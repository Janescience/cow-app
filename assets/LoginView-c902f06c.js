import{r as u,a as $,c as m,w as a,u as V,b as y,o as c,d as e,_ as x,e as v,f as d,g as j,h as i,i as _,j as k,t as C,k as N,l as S,m as q,n as B,p as f,q as p}from"./index-c0353c99.js";import{_ as U,a as D}from"./SectionFullScreen-f1830d6a.js";import{_ as g}from"./FormField-3396a7fb.js";import{_ as L}from"./SectionTitle-779cfa5c.js";const M=p("a",{href:"/register",class:"ml-1 text-blue-500"},[p("u",null,"สร้างบัญชี")],-1),F={__name:"LoginView",setup(O){const s=u({login:"",pass:"",remember:["remember"]}),t=$(!1),l=u({message:""}),b=V(),w=y(),h=()=>{t.value=!0,l.message="",w.dispatch("auth/login",{username:s.login,password:s.pass}).then(n=>{b.push("/dashboard"),t.value=!1}).catch(n=>{l.message=n.response.data.message,t.value=!1})};return(n,o)=>(c(),m(U,null,{default:a(()=>[e(D,{bg:"login"},{default:a(({cardClass:R})=>[e(x,{class:"w-11/12 md:w-7/12 lg:w-6/12 xl:w-3/12 shadow-2xl p-2",form:"",title:"","header-icon":"",onSubmit:v(h,["prevent"])},{default:a(()=>[e(d,{type:"justify-center"},{default:a(()=>[e(j,{avatar:"/image/cow-logo.jpg",class:"w-28",username:"logo"})]),_:1}),e(L,null,{default:a(()=>[i(" ระบบจัดการฟาร์มโคนม ")]),_:1}),e(d,{type:"justify-center",class:"text-sm"},{default:a(()=>[i(" ยังไม่มีบัญชี ? "),M]),_:1}),e(g,{label:"ชื่อผู้ใช้",help:"กรุณากรอกชื่อผู้ใช้"},{default:a(()=>[e(_,{modelValue:s.login,"onUpdate:modelValue":o[0]||(o[0]=r=>s.login=r),icon:"account",name:"login",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(g,{label:"รหัสผ่าน",help:"กรุณากรอกรหัสผ่าน"},{default:a(()=>[e(_,{modelValue:s.pass,"onUpdate:modelValue":o[1]||(o[1]=r=>s.pass=r),icon:"asterisk",type:"password",name:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),l.message?(c(),m(k,{key:0,color:"danger",outline:"",icon:"alertCircleOutline"},{default:a(()=>[i(C(l.message),1)]),_:1})):N("",!0),e(S),e(q,{type:"justify-center"},{default:a(()=>[e(B,{type:"submit",color:"info",label:"เข้าสู่ระบบ",loading:f(t),disabled:f(t)},null,8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}};export{F as default};
