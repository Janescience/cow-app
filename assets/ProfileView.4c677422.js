import{y as g,Z as i,$ as S,N as U,e as P,a0 as q,_ as $,a1 as M,Q as _,o as k,c as y,w as t,b as e,p as c,t as N,a as B,r as V,P as A,R,d as v,g as d,k as b,l as f,S as T}from"./index.82873fcd.js";import{a as j,_ as m}from"./FormField.2b06a7c8.js";import{_ as E}from"./FormFilePicker.ef985324.js";import{_ as F}from"./SectionBottomOtherPages.7981f250.js";import{_ as C}from"./BaseButtons.180a8def.js";import"./SectionTitle.a5961acc.js";function u(){let o=g().currentUser;return o&&o.accessToken?{Authorization:o.accessToken}:{}}class L{all(){return i.get("/member",{headers:u()}).then(a=>(S(a.data.data.length),g().setCountMember(a.data.data.length),a))}getAll(a){return a||(a=""),i.get("/member?search="+a,{headers:u()})}get(a){return i.get(`/member/${a}`,{headers:u()})}create(a){return i.post("/member",a,{headers:u()})}delete(a){return i.delete(`/member/${a}`,{headers:u()})}update(a,p){return i.put(`/member?memberId=${a}&memberNewName=${p}`,null,{headers:u()})}}var Y=new L;const D={data(){return{userSwitchVal:[],user:{}}},created(){this.getMember()},methods:{async getMember(){const o=await Y.get(this.$route.params.id);o.data&&(this.user=o.data.data)}},components:{BaseLevel:P,UserAvatarCurrentUser:q,CardBox:$,FormCheckRadioPicker:j,PillTag:M}},O={class:"space-y-3 text-center md:text-left lg:mx-12"},z={class:"text-2xl"},H={class:"flex justify-center md:block"};function I(o,a,p,n,l,h){const w=_("UserAvatarCurrentUser"),x=_("PillTag"),r=_("BaseLevel"),s=_("CardBox");return k(),y(s,{rounded:""},{default:t(()=>[e(r,{type:"justify-around lg:justify-center"},{default:t(()=>[e(w,{class:"lg:mx-6 w-24",username:o.$route.params.id},null,8,["username"]),c("div",O,[c("h1",z,[c("b",null,N(l.user.name),1)]),c("div",H,[e(x,{text:"Verified",type:"info",icon:"checkDecagram"})])])]),_:1})]),_:1})}var Q=U(D,[["render",I]]);const Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ae={__name:"ProfileView",setup(o){const a=g(),p=B(["Admin","Profile"]),n=V({name:a.userName,email:a.userEmail}),l=V({password_current:"",password:"",password_confirmation:""}),h=()=>{a.setUser(n)},w=()=>{};return(x,r)=>(k(),y(A,null,{default:t(()=>[e(R,{"title-stack":p.value},null,8,["title-stack"]),e(Q),e(T,null,{default:t(()=>[c("div",Z,[e($,{title:"Edit Profile",icon:"accountCircle",form:"",onSubmit:v(h,["prevent"])},{default:t(()=>[e(m,{label:"Avatar",help:"Max 500kb"},{default:t(()=>[e(E)]),_:1}),e(m,{label:"Name",help:"Required. Your name"},{default:t(()=>[e(d,{modelValue:n.name,"onUpdate:modelValue":r[0]||(r[0]=s=>n.name=s),icon:"account",name:"username",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(m,{label:"E-mail",help:"Required. Your e-mail"},{default:t(()=>[e(d,{modelValue:n.email,"onUpdate:modelValue":r[1]||(r[1]=s=>n.email=s),icon:"mail",type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:t(()=>[e(f,{color:"info",type:"submit",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"]),e($,{title:"Change Password",icon:"lock",form:"",onSubmit:v(w,["prevent"])},{default:t(()=>[e(m,{label:"Current password",help:"Required. Your current password"},{default:t(()=>[e(d,{modelValue:l.password_current,"onUpdate:modelValue":r[2]||(r[2]=s=>l.password_current=s),icon:"asterisk",name:"password_current",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),e(b),e(m,{label:"New password",help:"Required. New password"},{default:t(()=>[e(d,{modelValue:l.password,"onUpdate:modelValue":r[3]||(r[3]=s=>l.password=s),icon:"formTextboxPassword",name:"password",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(m,{label:"Confirm password",help:"Required. New password one more time"},{default:t(()=>[e(d,{modelValue:l.password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=s=>l.password_confirmation=s),icon:"formTextboxPassword",name:"password_confirmation",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:t(()=>[e(f,{type:"submit",color:"info",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}),e(F)]),_:1}))}};export{ae as default};
