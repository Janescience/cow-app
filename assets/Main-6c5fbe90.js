import{c as d}from"./BaseDivider-e6f522d1.js";import{_ as f}from"./LayoutAuthenticated-c63231e3.js";import{_}from"./SectionTitleBarSub-10fabe8f.js";import{C as g}from"./Criteria-aeebf4c3.js";import{R as w}from"./report-2d59fffb.js";import{y as b,a as c}from"./date-1696e46e.js";import{T as S}from"./alert-c25fb8f9.js";import{v as x,x as y,c as M,w as m,z as o,o as D,d as a}from"./index-833fccd7.js";import"./UserAvatar-e8a89c62.js";import"./CardBoxModal-2c7e77f6.js";import"./CardBoxCollapse-3e6546ff.js";import"./FormField-e4067010.js";import"./FormControl-c6bef721.js";import"./FormCheckRadioPicker-ea4a7d63.js";import"./Cow-2e6f527c.js";import"./cow-2cb1e0fe.js";import"./Recipe-ed7ed823.js";import"./Vaccine-fe177487.js";import"./Corral-a83ab125.js";const L={data(){return{forms:[{label:"ปี",value:"year",options:b(),required:!0},{label:"ตั้งแต่เดือน",value:"monthFrom",options:c(),required:!0},{label:"ถึงเดือน",value:"monthTo",options:c(),required:!0}],search:{year:new Date().getFullYear(),monthFrom:new Date().getMonth()+1,monthTo:new Date().getMonth()+1},loading:!1}},components:{SectionMain:d,LayoutAuthenticated:f,SectionTitleBarSub:_,Criteria:g},methods:{async exportExcel(n){this.loading=!0;const t=await w.rawMilk(n);if(console.log(t),t.data.size<=4)S.fire({icon:"warning",title:"ไม่พบข้อมูล"});else{const i=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=i,e.setAttribute("download","ผลผลิตน้ำนมดิบ ปี "+this.search.year+" "+y().format("DDMMYYYYHHmm")+".xlsx"),document.body.appendChild(e),e.click(),e.remove()}this.loading=!1},reset(){this.search.year=new Date().getFullYear(),this.search.monthForm=new Date().getMonth()+1,this.search.monthTo=new Date().getMonth()+1}}};function T(n,t,i,e,r,s){const l=o("SectionTitleBarSub"),p=o("Criteria"),h=o("SectionMain"),u=o("LayoutAuthenticated");return D(),M(u,null,{default:m(()=>[a(h,null,{default:m(()=>[a(l,{icon:"water",title:"ผลผลิตน้ำนมดิบ"}),a(p,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:s.exportExcel,onReset:s.reset,forms:r.forms,search:r.search,btnSubmitLabel:"ออกรายงาน",btnLoading:r.loading,collapse:""},null,8,["onSearch","onReset","forms","search","btnLoading"])]),_:1})]),_:1})}const I=x(L,[["render",T]]);export{I as default};
