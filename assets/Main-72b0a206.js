import{z as p,C as f,D as _,E as g,B as w,c as b,w as c,F as o,o as S,d as n}from"./index-c0353c99.js";import{C as y}from"./Criteria-d6a71ef2.js";import{R as M}from"./report-b8bbbbea.js";import{y as x,m as l}from"./date-66c7a2ce.js";import{T as D}from"./alert-75e2b859.js";import"./CardBoxCollapse-bc540e4c.js";import"./FormField-3396a7fb.js";import"./Cow-48b4cd0f.js";import"./cow-cadea9a2.js";import"./Recipe-70e0330b.js";import"./Vaccine-feb306c5.js";const C={data(){return{forms:[{label:"ปี",value:"year",options:x(),required:!0},{label:"ตั้งแต่เดือน",value:"monthFrom",options:l(),required:!0},{label:"ถึงเดือน",value:"monthTo",options:l(),required:!0}],search:{year:new Date().getFullYear(),monthFrom:new Date().getMonth()+1,monthTo:new Date().getMonth()+1},loading:!1}},components:{SectionMain:f,LayoutAuthenticated:_,SectionTitleBarSub:g,Criteria:y},methods:{async exportExcel(r){this.loading=!0;const t=await M.rawMilk(r);if(console.log(t),t.data.size<=4)D.fire({icon:"warning",title:"ไม่พบข้อมูล"});else{const i=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=i,e.setAttribute("download","ผลผลิตน้ำนมดิบ ปี "+this.search.year+" "+w().format("DDMMYYYYHHmm")+".xlsx"),document.body.appendChild(e),e.click(),e.remove()}this.loading=!1},reset(){this.search.year=new Date().getFullYear(),this.search.monthForm=new Date().getMonth()+1,this.search.monthTo=new Date().getMonth()+1}}};function L(r,t,i,e,a,s){const m=o("SectionTitleBarSub"),h=o("Criteria"),u=o("SectionMain"),d=o("LayoutAuthenticated");return S(),b(d,null,{default:c(()=>[n(u,null,{default:c(()=>[n(m,{icon:"water",title:"ผลผลิตน้ำนมดิบ"}),n(h,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:s.exportExcel,onReset:s.reset,forms:a.forms,search:a.search,btnSubmitLabel:"ออกรายงาน",btnLoading:a.loading,collapse:""},null,8,["onSearch","onReset","forms","search","btnLoading"])]),_:1})]),_:1})}const H=p(C,[["render",L]]);export{H as default};
