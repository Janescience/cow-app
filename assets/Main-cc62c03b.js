import{Q as p,z as h,y as f,S as _,B as w,C as S,c as b,w as i,D as n,o as y,d as c}from"./index-427a87c0.js";import{C as x}from"./Criteria-b793ffc3.js";import"./alert-a2a7616a.js";import"./FormField-d8c58746.js";import"./FormCheckRadioPicker-b055ac64.js";import"./Cow-622b6025.js";import"./cow-ed7a984e.js";async function g(t={}){let e="?";if(t.cow&&(e=e+`cow=${t.cow}&`),t.date){const a=h(new Date(t.date)).format("YYYY-MM-DD");e=e+`date=${a}&`}return t?e.replace(/&*$/,""):""}class C{async cow(e){const a=await g(e);return p.get("/report/cow"+a,{responseType:"blob"}).then(o=>o)}}const B=new C,v={data(){return{forms:[{label:"โค",value:"cow",type:"ddl",module:"cow"},{label:"วันที่รักษา",value:"date",icon:"calendar",type:"date"}],search:{cow:null,date:null},loading:!1}},components:{SectionMain:_,LayoutAuthenticated:w,SectionTitleBarSub:S,Criteria:x},methods:{async exportExcel(t){this.loading=!0;const e=await B.cow(t);if(e.data){const a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download","cows.xlsx"),document.body.appendChild(o),o.click(),o.remove()}this.loading=!1},reset(){this.search.cow=null,this.search.date=null}}};function L(t,e,a,o,r,s){const l=n("SectionTitleBarSub"),d=n("Criteria"),u=n("SectionMain"),m=n("LayoutAuthenticated");return y(),b(m,null,{default:i(()=>[c(u,null,{default:i(()=>[c(l,{icon:"doctor",title:"ประวัติและคุณลักษณะของวัว"}),c(d,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:s.exportExcel,onReset:s.reset,forms:r.forms,search:r.search,btnSubmitLabel:"ออกรายงาน"},null,8,["onSearch","onReset","forms","search"])]),_:1})]),_:1})}const Y=f(v,[["render",L]]);export{Y as default};
