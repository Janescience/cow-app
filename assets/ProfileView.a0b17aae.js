import{q as $,a1 as i,a2 as k,Q as y,d as P,a3 as q,_ as g,a4 as M,U as _,o as S,c as U,w as r,a as e,l as c,E as B,J as N,r as x,T,V as A,b as v,f as b,g as f,S as R}from"./index.78641a88.js";import{a as E,_ as m}from"./FormField.7a1e50b1.js";import{_ as d}from"./FormControl.c82ee78a.js";import{_ as j}from"./FormFilePicker.44175af0.js";import{_ as F}from"./SectionBottomOtherPages.55660c3d.js";import{_ as C}from"./BaseButtons.857029c7.js";import"./SectionTitle.b6ee4f0b.js";function u(){let o=$().currentUser;return o&&o.accessToken?{Authorization:o.accessToken}:{}}class L{all(){return i.get("/member",{headers:u()}).then(a=>(k(a.data.data.length),$().setCountMember(a.data.data.length),a))}getAll(a){return a||(a=""),i.get("/member?search="+a,{headers:u()})}get(a){return i.get(`/member/${a}`,{headers:u()})}create(a){return i.post("/member",a,{headers:u()})}delete(a){return i.delete(`/member/${a}`,{headers:u()})}update(a,p){return i.put(`/member?memberId=${a}&memberNewName=${p}`,null,{headers:u()})}}var Y=new L;const D={data(){return{userSwitchVal:[],user:{}}},created(){this.getMember()},methods:{async getMember(){const o=await Y.get(this.$route.params.id);o.data&&(this.user=o.data.data)}},components:{BaseLevel:P,UserAvatarCurrentUser:q,CardBox:g,FormCheckRadioPicker:E,PillTag:M}},O={class:"space-y-3 text-center md:text-left lg:mx-12"},z={class:"text-2xl"},H={class:"flex justify-center md:block"};function I(o,a,p,n,l,h){const w=_("UserAvatarCurrentUser"),V=_("PillTag"),t=_("BaseLevel"),s=_("CardBox");return S(),U(s,{rounded:""},{default:r(()=>[e(t,{type:"justify-around lg:justify-center"},{default:r(()=>[e(w,{class:"lg:mx-6 w-24",username:o.$route.params.id},null,8,["username"]),c("div",O,[c("h1",z,[c("b",null,B(l.user.name),1)]),c("div",H,[e(V,{text:"Verified",type:"info",icon:"checkDecagram"})])])]),_:1})]),_:1})}var J=y(D,[["render",I]]);const Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},re={__name:"ProfileView",setup(o){const a=$(),p=N(["Admin","Profile"]),n=x({name:a.userName,email:a.userEmail}),l=x({password_current:"",password:"",password_confirmation:""}),h=()=>{a.setUser(n)},w=()=>{};return(V,t)=>(S(),U(T,null,{default:r(()=>[e(A,{"title-stack":p.value},null,8,["title-stack"]),e(J),e(R,null,{default:r(()=>[c("div",Q,[e(g,{title:"Edit Profile",icon:"accountCircle",form:"",onSubmit:v(h,["prevent"])},{default:r(()=>[e(m,{label:"Avatar",help:"Max 500kb"},{default:r(()=>[e(j)]),_:1}),e(m,{label:"Name",help:"Required. Your name"},{default:r(()=>[e(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=s=>n.name=s),icon:"account",name:"username",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(m,{label:"E-mail",help:"Required. Your e-mail"},{default:r(()=>[e(d,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=s=>n.email=s),icon:"mail",type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:r(()=>[e(f,{color:"info",type:"submit",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"]),e(g,{title:"Change Password",icon:"lock",form:"",onSubmit:v(w,["prevent"])},{default:r(()=>[e(m,{label:"Current password",help:"Required. Your current password"},{default:r(()=>[e(d,{modelValue:l.password_current,"onUpdate:modelValue":t[2]||(t[2]=s=>l.password_current=s),icon:"asterisk",name:"password_current",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),e(b),e(m,{label:"New password",help:"Required. New password"},{default:r(()=>[e(d,{modelValue:l.password,"onUpdate:modelValue":t[3]||(t[3]=s=>l.password=s),icon:"formTextboxPassword",name:"password",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(m,{label:"Confirm password",help:"Required. New password one more time"},{default:r(()=>[e(d,{modelValue:l.password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=s=>l.password_confirmation=s),icon:"formTextboxPassword",name:"password_confirmation",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:r(()=>[e(f,{type:"submit",color:"info",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}),e(F)]),_:1}))}};export{re as default};
