import{C as n}from"./cow.e98d4c53.js";import{K as h,N as s,o as m,x as p,d as i,w as f,h as _}from"./index.2dcfda0f.js";const y={data(){return{datas:[]}},created(){this.initialData()},computed:{value:{get(){var e,a,t;return this.valueType==="object"&&(e=this.modelValue)!=null&&e.cow_data&&(this.modelValue.cow_data=((a=this.modelValue)==null?void 0:a.code)+" : "+((t=this.modelValue)==null?void 0:t.name)),this.modelValue},set(e){this.$emit("update:modelValue",e)}},user(){return this.$store.state.auth.user}},methods:{async initialData(){const e={farm:this.user.farm._id,flag:"Y"};try{const a=await n.ddl(e);if(this.datas=[],a&&(this.datas=a.data.cows,this.datas.map(t=>t.cow_data=t.code+" : "+t.name)),this.defaultValue){const t=this.datas.filter(d=>d[this.defaultType]==this.defaultValue);t&&this.handleInput(this.reduceAction(t[0]))}}catch(a){this.datas=[],console.error("Error: "+a.message)}},reduceAction(e){return this.valueType==="object"?e:e[this.valueType]},handleInput(e){this.$emit("update:value",e),this.dataSelected=this.datas.find(a=>a.code===e||a.name===e),this.$emit("update:dataSelected",this.dataSelected)}},props:{clear:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},dataSelected:{default:null,type:Object},defaultType:{default:null,type:Object},valueType:{default:"_id",type:Object},defaultValue:{default:null,type:Object},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},multiple:{default:!1,type:Boolean}}},v={class:"relative"};function b(e,a,t,d,o,l){const u=s("mdicon"),c=s("v-select");return m(),p("div",v,[i(c,{class:"ddl",clearable:t.clear,disabled:t.disabled,options:o.datas,reduce:l.reduceAction,label:"cow_data",placeholder:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E42\u0E04",onInput:l.handleInput,modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value=r),dataSelected:t.dataSelected,multiple:t.multiple},{"no-options":f(()=>[i(u,{name:"alertCircleOutline",width:"16",height:"16",class:"inline-block"}),_(" \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ")]),_:1},8,["clearable","disabled","options","reduce","onInput","modelValue","dataSelected","multiple"])])}var S=h(y,[["render",b]]);export{S as D};
