import{y as p,z as h,B as f,S as _,C as w,D as S,c as b,w as i,E as n,o as y,d as c}from"./index-26f3a63b.js";import{C as x}from"./Criteria-0429f10f.js";import"./alert-d09b2040.js";import"./FormField-8009c01d.js";import"./FormCheckRadioPicker-9c8f97a6.js";import"./Cow-a2e52179.js";import"./cow-192f17aa.js";async function g(t={}){let e="?";if(t.cow&&(e=e+`cow=${t.cow}&`),t.date){const a=h(new Date(t.date)).format("YYYY-MM-DD");e=e+`date=${a}&`}return t?e.replace(/&*$/,""):""}class C{async cow(e){const a=await g(e);return p.get("/report/cow"+a,{responseType:"blob"}).then(o=>o)}}const B=new C,v={data(){return{forms:[{label:"โค",value:"cow",type:"ddl",module:"cow"},{label:"วันที่รักษา",value:"date",icon:"calendar",type:"date"}],search:{cow:null,date:null},loading:!1}},components:{SectionMain:_,LayoutAuthenticated:w,SectionTitleBarSub:S,Criteria:x},methods:{async exportExcel(t){this.loading=!0;const e=await B.cow(t);if(e.data){const a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download","cows.xlsx"),document.body.appendChild(o),o.click(),o.remove()}this.loading=!1},reset(){this.search.cow=null,this.search.date=null}}};function L(t,e,a,o,r,s){const l=n("SectionTitleBarSub"),d=n("Criteria"),u=n("SectionMain"),m=n("LayoutAuthenticated");return y(),b(m,null,{default:i(()=>[c(u,null,{default:i(()=>[c(l,{icon:"doctor",title:"ประวัติและคุณลักษณะของวัว"}),c(d,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:s.exportExcel,onReset:s.reset,forms:r.forms,search:r.search,btnSubmitLabel:"ออกรายงาน"},null,8,["onSearch","onReset","forms","search"])]),_:1})]),_:1})}const E=f(v,[["render",L]]);export{E as default};
