import{c as J,_ as X,d as Z,a as $}from"./BaseDivider-3bd10d7c.js";import{a as j,C as O,l as F,m as q,p as I,q as R,o as n,s as h,v as ee,x as B,y as E,z as v,c as te,w as g,d as l,j as s,g as M,t as d,f as D}from"./index-c9555507.js";import{_ as se}from"./DoughnutChart-8e3fe712.js";import{_ as ae}from"./SectionTitleBar-98784c83.js";import{_ as oe}from"./CardBoxCollapse-79f0452c.js";import{_ as re}from"./SectionTitleBarSub-190378a7.js";import{_ as le}from"./LayoutAuthenticated-26010161.js";import{T as ie}from"./Table-fbdb84bf.js";import{_ as ce}from"./FormControl-9960a6f0.js";import{_ as ne}from"./FormField-367a34f1.js";import{D as C}from"./dashboard-77a67918.js";import{m as V,y as de}from"./date-1696e46e.js";import"./UserAvatar-d47e699f.js";import"./CardBoxModal-af2232b7.js";const he={__name:"BarChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=j(null);let i;O.register(...F),q(()=>{i=new O(r.value,{type:"bar",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})});const e=I(()=>a.data);return R(e,o=>{i&&(i.data=o,i.update())}),(o,u)=>(n(),h("canvas",{ref_key:"root",ref:r},null,512))}},ue={__name:"LineChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=j(null);let i;O.register(...F),q(()=>{i=new O(r.value,{type:"line",data:a.data,options:{responsive:!0,plugins:{title:{display:!0}},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,suggestedMin:0,suggestedMax:200}}}})});const e=I(()=>a.data);return R(e,o=>{i&&(i.data=o,i.update())}),(o,u)=>(n(),h("canvas",{ref_key:"root",ref:r},null,512))}},pe={__name:"PieChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,r=j(null);let i;O.register(...F),q(()=>{i=new O(r.value,{type:"pie",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",display:!0}}}})});const e=I(()=>a.data);return R(e,o=>{i&&(i.data=o,i.update())}),(o,u)=>(n(),h("canvas",{ref_key:"root",ref:r},null,512))}},me={data(){return{chart:{milk:{all:{qty:null,amt:null},year:{qty:null,amt:null}},business:{all:null},expense:{cost:null,bill:null,care:null},income:null,food:{year:null},reproduct:{breeder:{year:null,all:null},artificial:{year:null,all:null}}},milkYears:[],reproBreeders:[],reproArtificials:[],milkAlls:[],statistics:{},corrals:[],food:{},foodYear:new Date().getFullYear(),milkYearValue:new Date().getFullYear(),statYearValue:new Date().getFullYear(),businessYear:new Date().getFullYear(),reproYearValue:new Date().getFullYear(),reproYearSearch:!1,statYearSearch:!1,milkYearSearch:!1,foodYearSearch:!1,businessYearSearch:!1,milkYear:{},milkAll:{},cow:{},corralColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCows",class:"text-center"}],foodColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCow",class:"text-center"},{label:"จำนวนเฉลี่ย/เดือน (กก.)",value:"avgQty",class:"text-center",type:"number"},{label:"ค่าใช้จ่ายเฉลี่ย/เดือน (บาท)",value:"avgAmount",class:"text-right",type:"currency"},{label:"จำนวนเดือน",value:"count"}],expense:{},expenseSum:{},income:{},incomeSum:{},loading:{milks:!0,expense:!0,income:!0,corral:!0,statistic:!0,food:!0}}},components:{DoughnutChart:se,LineChart:ue,BarChart:he,SectionMain:J,SectionTitleBar:ae,CardBox:X,CardBoxCollapse:oe,SectionTitleBarSub:re,LayoutAuthenticated:le,BaseIcon:Z,BaseDivider:$,Table:ie,FormControl:ce,FormField:ne,PieChart:pe},watch:{foodYear(t){t&&this.getFood(t)},milkYearValue(t){t&&this.getMilks(t)},reproYearValue(t){t&&this.getReproduction(t)},businessYear(t){t?(this.incomeSum={},this.expenseSum={},this.getExpense(t),this.getIncome(t)):(this.getExpenseAll(),this.getIncomeAll())}},computed:{user(){return this.$store.state.auth.user}},created(){this.getFood(),this.getIncome(),this.getMilks(),this.getExpense(),this.getCorrals(),this.getStatistics(),this.getReproduction()},methods:{async getMilks(t){this.loading.milks=!0;const a=await C.getMilks(t||this.milkYearValue);a&&(this.processMilkYears(a.data.last),this.processMilkAlls(a.data.all)),this.chart.milk.year.qty=this.milkChart("qty",this.milkYears,"year"),this.chart.milk.year.amt=this.milkChart("amount",this.milkYears,"year"),this.chart.milk.all.qty=this.milkChart("qty",this.milkAlls,"all"),this.chart.milk.all.amt=this.milkChart("amount",this.milkAlls,"all"),this.loading.milks=!1},processMilkYears(t){let a=0,r=0;t.forEach(m=>{m.month=B(m.date,"YYYY-MM-DD").format("M"),a+=m.milkDetails.reduce((_,k)=>_+k.qty,0),r+=m.milkDetails.reduce((_,k)=>_+k.amount,0)});const i=E.groupBy(t,"date"),e=Object.keys(i).length,o=a>0?a/e:0,u=r>0?r/e:0,f=E.groupBy(t,"month"),p=Object.keys(f).length,x=a>0?a/p:0,y=r>0?r/p:0;this.milkYears=E.orderBy(f,"ASC"),this.milkYear={sumQty:a,sumAmt:r,avgDayQty:o,avgDayAmt:u,avgMonthQty:x,avgMonthAmt:y,countDate:e,countMonth:p}},processMilkAlls(t){let a=0,r=0;t.forEach(m=>{const _=B(m.date,"YYYY-MM-DD");m.year=_.format("YYYY"),m.month=_.format("M"),a+=m.milkDetails.reduce((k,S)=>k+S.qty,0),r+=m.milkDetails.reduce((k,S)=>k+S.amount,0)});const i=E.groupBy(t,"month"),e=E.groupBy(t,"year"),o=Object.keys(i).length,u=Object.keys(e).length,f=a>0?a/o:0,p=a>0?a/u:0,x=r>0?r/o:0,y=r>0?r/u:0;this.milkAll={sumQty:a,sumAmt:r,avgMonthQty:f,avgYearQty:p,avgMonthAmt:x,avgYearAmt:y,countMonth:o,countYear:u},this.milkAlls=E.orderBy(e,"ASC")},async getFood(t){this.loading.food=!0;const a=await C.getFood(t||this.foodYear);a.data&&(this.food=a.data,this.chart.food.year=this.foodChart()),this.loading.food=!1},async getExpense(t){this.loading.expense=!0;const a=await C.getExpense(t||this.businessYear);a&&(this.expense=a.data),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getExpenseAll(){this.loading.expense=!0;const t=await C.getExpenseAll();t&&(this.expense=t.data.expenseDetail,this.expenseSum=t.data.expenseSum),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getIncome(t){this.loading.income=!0;const a=await C.getIncome(t||this.businessYear);a&&(this.income=a.data),this.loading.income=!1,this.chart.income=this.incomeChart()},async getIncomeAll(){this.loading.income=!0;const t=await C.getIncomeAll();t&&(this.income=t.data.incomeDetail,this.incomeSum=t.data.incomeSum),this.loading.income=!1,this.chart.business.all=this.businessAllChart(),this.chart.income=this.incomeChart()},async getCorrals(){this.loading.corral=!0;const t=await C.getCorrals();t&&(this.corrals=t.data),this.loading.corral=!1},async getStatistics(t){this.loading.statistic=!0;const a=await C.getStatistics(t||this.statYearValue);a&&(this.statistics=a.data),this.loading.statistic=!1},async getReproduction(t){this.loading.reproduct=!0;const a=await C.getReproduction(t||this.reproYearValue);a&&(this.reproBreeders=this.processReproductYear(a.data.breeder),this.reproArtificials=this.processReproductYear(a.data.artificial)),this.chart.reproduct.breeder.year=this.reproChart("F"),this.chart.reproduct.artificial.year=this.reproChart("A"),this.loading.reproduct=!1},processReproductYear(t){const a=[];t.forEach(e=>{e.month=B(e.matingDate,"YYYY-MM-DD").format("M")});const r=E.groupBy(t,"month");return Object.keys(r).forEach(e=>{const o=r[e],u=o.filter(p=>p.status!==4).length,f=o.filter(p=>p.status==4).length;a[e]={success:u,fail:f}}),a},reproChart(t){const a=[],r=[];(t==="F"?this.reproBreeders:this.reproArtificials).map(o=>{a.push(o.success),r.push(o.fail)});const e=[];return V().forEach(o=>{e.push(`${o}`)}),{labels:e,datasets:[{label:"สำเร็จ",borderColor:"#16a34a",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#65a30d",data:a,tension:.5},{label:"ล้มเหลว",borderColor:"#e11d48",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#db2777",data:r,tension:.5}]}},milkChart(t,a,r){const i=[];Object.keys(a).forEach(x=>{let y=a[x],m=0;y.map(_=>{_.milkDetails.map(k=>{m+=k[t]})}),i.push(m)});const e={qty:"น้ำนมดิบ",amount:"รายได้"},o={qty:"#e11d48",amount:"#16a34a"},u={qty:"#db2777",amount:"#65a30d"},f={label:e[t],borderColor:o[t],borderWidth:2,borderRadius:5,borderSkipped:!0,barPercentage:.5,backgroundColor:u[t],data:i,tension:.5},p=[];return r=="year"?V().forEach(x=>{p.push(`${x}`)}):Object.keys(a).forEach(x=>{p.push(`${x}`)}),{labels:p,datasets:[f]}},foodChart(){var i;const t=[],a=[];(i=this.food)==null||i.month.map(e=>{t.push(e.sumQty),a.push(e.sumAmount)});const r=[];return V().forEach(e=>{r.push(`${e}`)}),{labels:r,datasets:[{label:"จำนวน (กก.)",borderColor:"#E83105",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#F6461C",data:t,tension:.5},{label:"ค่าอาหาร",borderColor:"#566573",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#5D6D7E",data:a,tension:.5}]}},businessAllChart(){const t=[],a=[],r=[],i=[];Object.keys(this.expenseSum.cost).forEach(u=>{t.push(this.expenseSum.cost[u])}),Object.keys(this.expenseSum.bill).forEach(u=>{a.push(this.expenseSum.bill[u])}),Object.keys(this.expenseSum.care).forEach(u=>{r.push(this.expenseSum.care[u])}),Object.keys(this.incomeSum.rawMilk).forEach(u=>{i.push(this.incomeSum.rawMilk[u])});const e=[];let o=new Set([...Object.keys(this.expenseSum.bill),...Object.keys(this.expenseSum.care),...Object.keys(this.expenseSum.cost),...Object.keys(this.incomeSum.rawMilk)]);return o=Array.from(o),Object.keys(this.incomeSum).forEach(u=>{let f=this.incomeSum[u];o.forEach(p=>{f.hasOwnProperty(p)||(f[p]=0)})}),Object.keys(this.expenseSum).forEach(u=>{let f=this.expenseSum[u];o.forEach(p=>{f.hasOwnProperty(p)||(f[p]=0)})}),Object.keys(this.expenseSum.bill).forEach(u=>{e.push(`${u}`)}),{labels:e,datasets:[{label:"ผลผลิต",data:i,borderWidth:2,weight:2,backgroundColor:"#bbf7d0",hoverOffset:4},{label:"ต้นทุน",data:t,borderWidth:2,weight:2,backgroundColor:"#d1d5db",hoverOffset:4},{label:"ค่าใช้จ่ายเพิ่มเติม",data:a,borderWidth:2,weight:2,backgroundColor:"#fca5a5",hoverOffset:4},{label:"ค่าดูแลโค",data:r,borderWidth:2,weight:2,backgroundColor:"#fcd34d",hoverOffset:4}]}},incomeChart(){const t=[];Object.keys(this.income).forEach(e=>{t.push(this.income[e])});const a={data:t,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},r={rawMilk:"น้ำนมดิบ",cowExport:"จำหน่ายโค",pasteuri:"นมพาสเจอไรซ์",dung:"มูลสัตว์",meat:"จำหน่ายเนื้อโค"},i=[];return Object.keys(this.income).forEach(e=>{i.push(`${r[e]}`)}),{labels:i,datasets:[a]}},expenseChart(t){const a=[];Object.keys(this.expense[t]).forEach(o=>{a.push(this.expense[t][o])});const r={data:a,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},i={cost:{building:"สิ่งปลูกสร้าง",equipment:"อุปกรณ์",cow:"ค่านำเข้าโค",maintenance:"ซ่อมบำรุง"},bill:{water:"ค่าน้ำ",electric:"ค่าไฟ",accom:"ค่าที่พักคนงาน",rent:"ค่าเช่า",internet:"ค่าอินเทอร์เน็ต",waste:"ค่าของเสีย",oth:"อื่นๆ"},care:{food:"ค่าอาหาร",heal:"ค่ารักษา",protection:"ค่าวัคซีน",worker:"ค่าจ้างคนงาน"}},e=[];return Object.keys(this.expense[t]).forEach(o=>{e.push(`${i[t][o]}`)}),{labels:e,datasets:[r]}},sumExpense(){var e,o,u,f,p,x;let t=0,a=0,r=0;if((e=this.expense)!=null&&e.care)for(let y of Object.keys((o=this.expense)==null?void 0:o.care)){const m=this.expense.care[y];m&&(a+=m)}if((u=this.expense)!=null&&u.cost)for(let y of Object.keys((f=this.expense)==null?void 0:f.cost)){const m=this.expense.cost[y];m&&(t+=m)}if((p=this.expense)!=null&&p.bill)for(let y of Object.keys((x=this.expense)==null?void 0:x.bill)){const m=this.expense.bill[y];m&&(r+=m)}return{total:a+t+r,care:a,cost:t,bill:r}},sumIncome(){let t=0;for(let a of Object.keys(this.income)){const r=this.income[a];r&&(t+=r)}return{total:t}},sumProfit(){const t=this.sumExpense().total,a=this.sumIncome().total;let r=a-t,i=0;return r>=0?i=r/a*100:i=r/t*100,{profit:r,percent:i}},formatDate(t){return t?B(new Date(t)).format("DD/MM/YYYY"):""},years(t){return de(t)}}},ge={class:"grid grid-cols-1 gap-5"},_e={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},fe={key:1,class:"h-52 mt-5"},be={key:2,class:"text-gray-500"},ye={class:"lg:p-4"},xe={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 p-4"},ke={key:0,class:"h-52"},ve={key:1,class:"text-gray-500"},Ye={key:0,class:"h-52"},we={key:1,class:"text-gray-500"},Ce={class:"grid grid-cols-1 gap-5"},Se={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},Ae={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3"},De={class:"overflow-x-auto"},Ee=s("thead",null,[s("tr",null,[s("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (วัน)"),s("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),s("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)"),s("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/วัน (กก.)")])],-1),Me={class:"font-extrabold text-2xl"},Oe={class:"text-center"},Be={class:"text-center"},Ve={class:"text-center"},je={class:"text-center"},Fe={key:0,class:"mt-3 h-60 mb-5"},qe={key:1,class:"text-gray-500"},Ie={class:"overflow-x-auto"},Re=s("thead",null,[s("tr",null,[s("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),s("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/เดือน (บาท)"),s("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/วัน (บาท)")])],-1),Qe={class:"font-extrabold text-2xl"},Pe={class:"text-center"},We={class:"text-center"},Te={class:"text-center"},ze={key:0,class:"mt-3 h-60"},He={key:1,class:"text-gray-500"},Le={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},Ue={class:"overflow-x-auto"},Ne=s("thead",null,[s("tr",null,[s("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (ปี)"),s("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),s("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)"),s("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/ปี (กก.)")])],-1),Ke={class:"font-extrabold text-2xl"},Ge={class:"text-center"},Je={class:"text-center"},Xe={class:"text-center"},Ze={class:"text-center"},$e={key:0,class:"lg:h-62"},et={key:1,class:"text-gray-500"},tt={class:"overflow-x-auto"},st=s("thead",null,[s("tr",null,[s("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),s("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/เดือน (บาท)"),s("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/ปี (บาท)")])],-1),at={class:"font-extrabold text-2xl"},ot={class:"text-center"},rt={class:"text-center"},lt={class:"text-center"},it={key:0,class:"lg:h-62"},ct={key:1,class:"text-gray-500"},nt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},dt={key:1,class:"h-80 mt-5 col-span-2 mb-5"},ht={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},ut={class:"grid lg:grid-cols-3 grid-cols-1 gap-5 text-center"},pt=s("p",null,"ต้นทุน",-1),mt={class:"text-red-500 underline decoration-2 font-extrabold"},gt={key:0,class:"h-80"},_t={key:1,class:"text-gray-500"},ft=s("p",null,"ค่าดูแลโค",-1),bt={class:"text-red-500 underline decoration-2 font-extrabold"},yt={key:0,class:"h-80"},xt={key:1,class:"text-gray-500"},kt=s("p",null,"ค่าใช้จ่ายเพิ่มเติม",-1),vt={class:"text-red-500 underline decoration-2 font-extrabold"},Yt={key:0,class:"h-80"},wt={key:1,class:"text-gray-500"},Ct={class:"grid grid-cols-1 gap-5 text-center"},St=s("p",null,"ผลผลิต",-1),At={class:"text-lime-500 underline decoration-2 font-extrabold"},Dt={key:0,class:"h-80"},Et={key:1,class:"text-gray-500"},Mt={class:"grid grid-cols-1 gap-5 text-center"},Ot=s("div",{class:"dark:text-gray-300"}," รายรับ ",-1),Bt={class:"font-extrabold text-2xl"},Vt=s("div",{class:"dark:text-gray-300"}," รายจ่าย ",-1),jt={class:"font-extrabold text-2xl"},Ft={class:"dark:text-gray-300"},qt={class:"font-extrabold text-2xl"},It={class:"font-extrabold text-2xl"},Rt={class:"grid lg:grid-cols-4 grid-cols-1 gap-5"},Qt={key:0,class:"lg:col-span-4 grid lg:grid-cols-6 grid-cols-1"},Pt={class:"grid grid-cols-2 gap-5"},Wt={class:"mt-1"},Tt={class:"lg:text-xl text-lg text-yellow-600 text-center"},zt={key:0,class:"grid grid-cols-2 gap-5 mt-5"},Ht={class:"mt-1"},Lt=s("div",{class:"text-xs text-gray-500"},"(รักษามากที่สุด)",-1),Ut={class:"lg:text-xl text-lg text-yellow-600 text-center"},Nt={class:"grid grid-cols-2 gap-5"},Kt={class:"mt-1"},Gt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Jt={class:"mt-1"},Xt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Zt={class:"grid grid-cols-2 gap-5"},$t={class:"mt-1"},es={class:"lg:text-xl text-lg text-yellow-600 text-center"},ts={class:"mt-1"},ss=s("div",{class:"text-xs text-gray-500"},"(มากกว่า 8 เดือน)",-1),as={class:"lg:text-xl text-lg text-yellow-600 text-center"},os={class:"grid grid-cols-2 gap-5"},rs={class:"mt-1"},ls={class:"lg:text-xl text-lg text-yellow-600 text-center"},is={class:"mt-1"},cs={class:"lg:text-xl text-lg text-yellow-600 text-center"};function ns(t,a,r,i,e,o){const u=v("SectionTitleBarSub"),f=v("FormControl"),p=v("FormField"),x=v("Table"),y=v("bar-chart"),m=v("CardBoxCollapse"),_=v("CardBox"),k=v("line-chart"),S=v("pie-chart"),A=v("BaseIcon"),K=v("SectionMain"),G=v("LayoutAuthenticated");return n(),te(G,null,{default:g(()=>[l(K,null,{default:g(()=>[l(u,{icon:"chartPie",title:"ภาพรวมฟาร์ม"}),s("div",ge,[l(m,{title:"การให้อาหาร (ปี พ.ศ. "+(e.foodYear+543)+")",icon:"corn",onHeaderIconClick:a[1]||(a[1]=()=>{this.foodYearSearch=!this.foodYearSearch}),"header-icon":"magnifyExpand"},{default:g(()=>[e.foodYearSearch?(n(),h("div",_e,[l(p,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:e.foodYear,"onUpdate:modelValue":a[0]||(a[0]=c=>e.foodYear=c),options:o.years()},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(x,{title:"คอก",icon:"barn",items:e.food.corral,datas:e.foodColumns,perPage:"5",loading:e.loading.food},null,8,["items","datas","loading"]),e.chart.food.year?(n(),h("div",fe,[l(y,{data:e.chart.food.year},null,8,["data"])])):(n(),h("div",be,"ไม่มีข้อมูล..."))]),_:1},8,["title"]),l(_,{title:"การผสมพันธุ์ (ปี พ.ศ. "+(e.reproYearValue+543)+")",icon:"reproduction",onHeaderIconClick:a[3]||(a[3]=()=>{this.reproYearSearch=!this.reproYearSearch}),"has-table":"","header-icon":"magnifyExpand"},{default:g(()=>[s("div",ye,[e.reproYearSearch?(n(),h("div",xe,[l(p,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:e.reproYearValue,"onUpdate:modelValue":a[2]||(a[2]=c=>e.reproYearValue=c),options:o.years()},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(_,{title:"พ่อพันธุ์",class:"mb-5"},{default:g(()=>[e.chart.reproduct.breeder.year?(n(),h("div",ke,[l(y,{data:e.chart.reproduct.breeder.year},null,8,["data"])])):(n(),h("div",ve,"ไม่มีข้อมูล..."))]),_:1}),l(_,{title:"ผสมเทียม"},{default:g(()=>[e.chart.reproduct.artificial.year?(n(),h("div",Ye,[l(y,{data:e.chart.reproduct.artificial.year},null,8,["data"])])):(n(),h("div",we,"ไม่มีข้อมูล..."))]),_:1})])]),_:1},8,["title"]),l(m,{title:"น้ำนมดิบ",icon:"water","has-table":"","header-icon":"",class:"lg:p-4"},{default:g(()=>[s("div",Ce,[l(_,{title:"รายเดือน (ปี พ.ศ. "+(e.milkYearValue+543)+")",icon:"chartBellCurveCumulative",class:"",loading:e.loading.milks,onHeaderIconClick:a[5]||(a[5]=()=>{this.milkYearSearch=!this.milkYearSearch}),"header-icon":"magnifyExpand"},{default:g(()=>[s("div",Se,[e.milkYearSearch?(n(),h("div",Ae,[l(p,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:e.milkYearValue,"onUpdate:modelValue":a[4]||(a[4]=c=>e.milkYearValue=c),options:o.years()},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(_,{title:"ปริมาณ","header-icon":"","has-table":"",class:"lg:p-4"},{default:g(()=>{var c,b;return[s("div",De,[s("table",null,[Ee,s("tbody",null,[s("tr",Me,[s("td",Oe,d(e.milkYear.countDate),1),s("td",Be,d(t.$filters.number(e.milkYear.sumQty)),1),s("td",Ve,d(t.$filters.number(e.milkYear.avgMonthQty)),1),s("td",je,d(t.$filters.number(e.milkYear.avgDayQty)),1)])])])]),((b=(c=e.chart.milk.year.qty)==null?void 0:c.datasets[0])==null?void 0:b.data[0])>0?(n(),h("div",Fe,[l(y,{data:e.chart.milk.year.qty},null,8,["data"])])):(n(),h("div",qe,"ไม่มีข้อมูล..."))]}),_:1}),l(_,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:"lg:p-4"},{default:g(()=>{var c,b;return[s("div",Ie,[s("table",null,[Re,s("tbody",null,[s("tr",Qe,[s("td",Pe,d(t.$filters.currency(e.milkYear.sumAmt)),1),s("td",We,d(t.$filters.currency(e.milkYear.avgMonthAmt)),1),s("td",Te,d(t.$filters.currency(e.milkYear.avgDayAmt)),1)])])])]),((b=(c=e.chart.milk.year.amt)==null?void 0:c.datasets[0])==null?void 0:b.data[0])>0?(n(),h("div",ze,[l(y,{data:e.chart.milk.year.amt},null,8,["data"])])):(n(),h("div",He,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1},8,["title","loading"]),l(_,{title:"รายปี",icon:"chartBellCurveCumulative","header-icon":""},{default:g(()=>[s("div",Le,[l(_,{title:"ปริมาณ","header-icon":"","has-table":"",class:"lg:p-4"},{default:g(()=>{var c,b;return[s("div",Ue,[s("table",null,[Ne,s("tbody",null,[s("tr",Ke,[s("td",Ge,d(e.milkAll.countYear),1),s("td",Je,d(t.$filters.number(e.milkAll.sumQty)),1),s("td",Xe,d(t.$filters.number(e.milkAll.avgMonthQty)),1),s("td",Ze,d(t.$filters.number(e.milkAll.avgYearQty)),1)])])])]),((b=(c=e.chart.milk.all.qty)==null?void 0:c.datasets[0])==null?void 0:b.data[0])>0?(n(),h("div",$e,[l(k,{data:e.chart.milk.all.qty},null,8,["data"])])):(n(),h("div",et,"ไม่มีข้อมูล..."))]}),_:1}),l(_,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:"lg:p-4"},{default:g(()=>{var c,b;return[s("div",tt,[s("table",null,[st,s("tbody",null,[s("tr",at,[s("td",ot,d(t.$filters.currency(e.milkAll.sumAmt)),1),s("td",rt,d(t.$filters.currency(e.milkAll.avgMonthAmt)),1),s("td",lt,d(t.$filters.currency(e.milkAll.avgYearAmt)),1)])])])]),((b=(c=e.chart.milk.all.amt)==null?void 0:c.datasets[0])==null?void 0:b.data[0])>0?(n(),h("div",it,[l(k,{data:e.chart.milk.all.amt},null,8,["data"])])):(n(),h("div",ct,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1})])]),_:1}),l(m,{title:"ผลประกอบการ (ปี พ.ศ. "+(e.businessYear+543)+")",icon:"cashRegister","header-icon":"magnifyExpand",onHeaderIconClick:a[7]||(a[7]=()=>{this.businessYearSearch=!this.businessYearSearch})},{default:g(()=>[e.businessYearSearch?(n(),h("div",nt,[l(p,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:e.businessYear,"onUpdate:modelValue":a[6]||(a[6]=c=>e.businessYear=c),options:o.years("search")},null,8,["modelValue","options"])]),_:1})])):M("",!0),e.chart.business.all?(n(),h("div",dt,[l(y,{data:e.chart.business.all},null,8,["data"])])):M("",!0),s("div",ht,[l(_,{title:"รายจ่าย",class:"lg:col-span-2","header-icon":""},{default:g(()=>[s("div",ut,[s("div",null,[pt,s("div",mt,d(t.$filters.currency(o.sumExpense().cost)),1),o.sumExpense().cost>0?(n(),h("div",gt,[l(S,{data:e.chart.expense.cost},null,8,["data"])])):(n(),h("div",_t,"ไม่มีข้อมูล..."))]),s("div",null,[ft,s("div",bt,d(t.$filters.currency(o.sumExpense().care)),1),o.sumExpense().care>0?(n(),h("div",yt,[l(S,{data:e.chart.expense.care},null,8,["data"])])):(n(),h("div",xt,"ไม่มีข้อมูล..."))]),s("div",null,[kt,s("div",vt,d(t.$filters.currency(o.sumExpense().bill)),1),o.sumExpense().bill>0?(n(),h("div",Yt,[l(S,{data:e.chart.expense.bill},null,8,["data"])])):(n(),h("div",wt,"ไม่มีข้อมูล..."))])])]),_:1}),l(_,{title:"รายรับ","header-icon":""},{default:g(()=>[s("div",Ct,[s("div",null,[St,s("div",At,d(t.$filters.currency(o.sumIncome().total)),1),o.sumIncome().total>0?(n(),h("div",Dt,[l(S,{data:e.chart.income},null,8,["data"])])):(n(),h("div",Et,"ไม่มีข้อมูล..."))])])]),_:1}),l(_,{title:"สรุป","header-icon":""},{default:g(()=>{var c;return[s("div",Mt,[Ot,s("div",Bt,d(t.$filters.currency(o.sumIncome().total)),1),Vt,s("div",jt,d(t.$filters.currency(o.sumExpense().total)),1),s("div",Ft,d(o.sumProfit().profit>0?"กำไร":"ขาดทุน"),1),s("div",qt,d(t.$filters.currency((c=o.sumProfit())==null?void 0:c.profit)),1),s("div",It,d(t.$filters.number(o.sumProfit().percent|0))+" % ",1)])]}),_:1})])]),_:1},8,["title"]),l(m,{icon:"poll",title:"สถิติ (ปี พ.ศ. "+(e.statYearValue+543)+")","header-icon":"magnifyExpand",onHeaderIconClick:a[9]||(a[9]=()=>{this.statYearSearch=!this.statYearSearch}),class:"mb-1 lg:mb-5"},{default:g(()=>[s("div",Rt,[e.statYearSearch?(n(),h("div",Qt,[l(p,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:e.statYearValue,"onUpdate:modelValue":a[8]||(a[8]=c=>e.statYearValue=c),options:o.years()},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(_,{title:"การรักษา","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var c,b,Y,w,Q,P,W,T,z,H,L,U,N;return[s("div",Pt,[s("p",Wt,[l(A,{class:"bg-red-900 text-rose-400 rounded-full p-1 mr-2",path:"plusThick",size:"16"}),D("ทั้งหมด ")]),s("h1",Tt,d((b=(c=e.statistics)==null?void 0:c.heal)==null?void 0:b.count),1)]),(P=(Q=(w=(Y=e.statistics)==null?void 0:Y.heal)==null?void 0:w.max)==null?void 0:Q.cow)!=null&&P.name?(n(),h("div",zt,[s("p",Ht,[l(A,{class:"bg-gray-700 text-white rounded-full p-1 mr-2",path:"cow",size:"16"}),D("โค"+d((H=(z=(T=(W=e.statistics)==null?void 0:W.heal)==null?void 0:T.max)==null?void 0:z.cow)==null?void 0:H.name)+" ",1),Lt]),s("h1",Ut,d((N=(U=(L=e.statistics)==null?void 0:L.heal)==null?void 0:U.max)==null?void 0:N.count),1)])):M("",!0)]}),_:1}),l(_,{title:"การผสมพันธุ์","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var c,b,Y,w;return[s("div",Nt,[s("p",Kt,[l(A,{class:"bg-teal-900 text-green-500 rounded-full p-1 mr-2",path:"check",size:"16"}),D("สำเร็จ ")]),s("h1",Gt,d((b=(c=e.statistics)==null?void 0:c.reproduction)==null?void 0:b.success),1),s("p",Jt,[l(A,{class:"bg-red-900 text-rose-500 rounded-full p-1 mr-2",path:"close",size:"16"}),D("ล้มเหลว ")]),s("h1",Xt,d((w=(Y=e.statistics)==null?void 0:Y.reproduction)==null?void 0:w.fail),1)])]}),_:1}),l(_,{title:"การตั้งครรภ์","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var c,b,Y,w;return[s("div",Zt,[s("p",$t,[l(A,{class:"bg-black text-gray-300 rounded-full p-1 mr-2",path:"emoticonCryOutline",size:"16"}),D(" แท้ง ")]),s("h1",es,d((b=(c=e.statistics)==null?void 0:c.pregnant)==null?void 0:b.abort),1),s("p",ts,[l(A,{class:"bg-orange-900 text-yellow-500 rounded-full p-1 mr-2",path:"calendarClock",size:"16"}),D(" ใกล้คลอด "),ss]),s("h1",as,d((w=(Y=e.statistics)==null?void 0:Y.pregnant)==null?void 0:w.nearBirth),1)])]}),_:1}),l(_,{title:"การคลอด","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var c,b,Y,w;return[s("div",os,[s("p",rs,[l(A,{class:"bg-indigo-900 text-white rounded-full p-1 mr-2",path:"genderMale",size:"16"}),D("เพศผู้ ")]),s("h1",ls,d((b=(c=e.statistics)==null?void 0:c.born)==null?void 0:b.male),1),s("p",is,[l(A,{class:"bg-rose-900 text-white rounded-full p-1 mr-2",path:"genderFemale",size:"16"}),D("เพศเมีย ")]),s("h1",cs,d((w=(Y=e.statistics)==null?void 0:Y.born)==null?void 0:w.female),1)])]}),_:1})])]),_:1},8,["title"])])]),_:1})]),_:1})}const ws=ee(me,[["render",ns]]);export{ws as default};
