import{a as _,W as y,o as h,c as b,w as f,p as o,H as v,X as w,Y as k,Z as s,N as C,O as g,Q as i,s as $,b as u,i as V}from"./index.8283c5b3.js";import{a as d}from"./auth-header.2a074e3c.js";const S={class:"checkbox"},D=o("span",{class:"check"},null,-1),q={__name:"TableCheckboxCell",props:{type:{type:String,default:"td"},isChecked:{type:Boolean,default:!1}},emits:["checked"],setup(a,{emit:e}){const t=a,l=_(t.isChecked);return y(l,r=>{e("checked",r)}),(r,c)=>(h(),b(k(t.type),{class:"checkbox-cell"},{default:f(()=>[o("label",S,[v(o("input",{"onUpdate:modelValue":c[0]||(c[0]=n=>l.value=n),type:"checkbox"},null,512),[[w,l.value]]),D])]),_:1}))}};async function B(a={}){let e="?";return a.farm&&(e=e+`farm=${a.farm}&`),a.flag&&(e=e+`flag=${a.flag}&`),a.code&&(e=e+`code=${a.code}&`),a.name&&(e=e+`name=${a.name}&`),a.status&&(e=e+`status=${a.status}&`),a.birthDate&&(e=e+`birthDate=${a.birthDate}&`),a.corral&&(e=e+`corral=${a.corral}&`),a?e.replace(/&*$/,""):""}class x{async all(e){const t=await B(e);return s.get("/cow"+t,{headers:d()}).then(l=>l)}get(e){return s.get(`/cow/${e}`,{headers:d()})}create(e){return s.post("/cow",e,{headers:d()})}delete(e){return s.delete(`/cow/${e}`,{headers:d()})}update(e,t){return s.put(`/cow/${e}`,t,{headers:d()})}}var O=new x;const T={data(){return{datas:[]}},created(){this.initialData()},computed:{value:{get(){return this.modelValue},set(a){this.$emit("update:modelValue",a)}}},methods:{async initialData(){const a={farm:g().farm._id};try{const e=await O.all(a);if(this.datas=[],e&&(this.datas=e.data.cows,this.datas.map(t=>t.cow_data=t.code+" : "+t.name)),this.defaultValue){const t=this.datas.filter(l=>l[this.defaultType]==this.defaultValue);t&&this.handleInput(this.reduceAction(t[0]))}}catch(e){this.datas=[],console.error("Error: "+e.message)}},reduceAction(a){return this.valueType==="object"?a:a[this.valueType]},handleInput(a){this.$emit("update:value",a),this.dataSelected=this.datas.find(e=>e.cde===a||e.name===a),this.$emit("update:dataSelected",this.dataSelected)}},props:{clear:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},dataSelected:{default:null,type:Object},defaultType:{default:null,type:Object},valueType:{default:"_id",type:Object},defaultValue:{default:null,type:Object},modelValue:{type:[String,Number,Boolean,Array,Object],default:""}}},j={class:"relative"},I=V(" \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ");function N(a,e,t,l,r,c){const n=i("mdicon"),m=i("v-select");return h(),$("div",j,[u(m,{class:"ddl",clearable:t.clear,disabled:t.disabled,options:r.datas,reduce:c.reduceAction,label:"cow_data",placeholder:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E42\u0E04",onInput:c.handleInput,modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=p=>c.value=p),dataSelected:t.dataSelected},{"no-options":f(()=>[u(n,{name:"alertCircleOutline",width:"16",height:"16",class:"inline-block"}),I]),_:1},8,["clearable","disabled","options","reduce","onInput","modelValue","dataSelected"])])}var E=C(T,[["render",N]]);export{O as C,E as D,q as _};
