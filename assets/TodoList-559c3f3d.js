import{c as j,_ as w,a as O}from"./BaseDivider-500208c2.js";import{_ as M}from"./SectionTitleBar-5e76ae19.js";import{_ as E}from"./SectionTitleBarSub-faca8a12.js";import{_ as F}from"./LayoutAuthenticated-15c7bb15.js";import{T as N}from"./Table-e063dcfd.js";import{D}from"./dashboard-50babaae.js";import{v as V,y as A,x as v,c as d,w as c,z as m,o as e,d as b,j as u,s as o,D as l,f,F as r,n as _,t as g,g as p}from"./index-abef8c91.js";import"./UserAvatar-4d67cc80.js";import"./CardBoxModal-186172ae.js";import"./FormControl-ae72a55d.js";const z={data(){return{lineChartColors:{primary:"#00D1B2",danger:"#FF3860"},events:[],todolist:{setting:{},important:{},dairy:{},monthly:{},notification:{}},eventColumns:[{label:"หัวข้อ",value:"title"},{label:"โค",value:"cow"},{label:"วันที่",value:"date",type:"date",class:"text-center"}],loading:{events:!0,todolist:!0}}},components:{SectionMain:j,SectionTitleBar:M,CardBox:w,SectionTitleBarSub:E,LayoutAuthenticated:F,BaseDivider:O,Table:N},computed:{user(){return this.$store.state.auth.user}},created(){this.getTodoList(),this.getEvents()},methods:{async getTodoList(){this.loading.todolist=!0;const a=await D.getTodoList();a&&(this.todolist=a.data),this.loading.todolist=!1},async getEvents(){this.loading.events=!0;const a=await D.getEvents();if(a){this.events=A.orderBy(a.data,"date");const k=v().format("DD/MM/YYYY");let y=[];for(let x of this.events)k===v(x.date).format("DD/MM/YYYY")&&y.push("โคครบกำหนดวันนี้");this.todolist.event=y}this.loading.events=!1},formatDate(a){return a?v(new Date(a)).format("DD/MM/YYYY"):""}}},P={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-5 gap-5 mb-1 lg:mb-5"},q={class:"mb-5"},G=["href"],H={class:"mb-5"},I=["href"],J={class:"mb-5"},K=["href"],Q={class:"mb-5"},R=["href"],U={class:"mb-5"},W=["href"];function X(a,k,y,x,t,Z){const L=m("SectionTitleBarSub"),h=m("CardBox"),T=m("Table"),S=m("SectionMain"),Y=m("LayoutAuthenticated");return e(),d(Y,null,{default:c(()=>[b(S,null,{default:c(()=>{var C,B;return[b(L,{icon:"chartPie",title:"กิจกรรมต่างๆที่ต้องทำ"}),u("div",P,[Object.keys((C=t.todolist)==null?void 0:C.setting).length>0?(e(),d(h,{key:0,icon:"formatListChecks",title:"ตั้งค่าเริ่มต้น","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:c(()=>{var i;return[u("div",q,[(e(!0),o(r,null,l(Object.keys((i=t.todolist)==null?void 0:i.setting),n=>(e(),o("div",{class:"p-2",key:t.todolist.setting[n]},[f(" - "),(e(!0),o(r,null,l(t.todolist.setting[n],s=>(e(),o("a",{key:s,href:s.href,class:_(s.href?"text-blue-500 underline":"")},g(s.text),11,G))),128))]))),128))])]}),_:1},8,["loading"])):p("",!0),Object.keys((B=t.todolist)==null?void 0:B.important).length>0?(e(),d(h,{key:1,icon:"formatListChecks",title:"ข้อมูลที่ควรบันทึก","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:c(()=>{var i;return[u("div",H,[(e(!0),o(r,null,l(Object.keys((i=t.todolist)==null?void 0:i.important),n=>(e(),o("div",{class:"p-2",key:t.todolist.important[n]},[f(" - "),(e(!0),o(r,null,l(t.todolist.important[n],s=>(e(),o("a",{key:s,href:s.href,class:_(s.href?"text-blue-500 underline":s.remark?"text-gray-500 text-xs":"")},g(s.text),11,I))),128))]))),128))])]}),_:1},8,["loading"])):p("",!0),Object.keys(t.todolist.dairy).length>0?(e(),d(h,{key:2,icon:"formatListChecks",title:"รายวัน","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:c(()=>{var i;return[u("div",J,[(e(!0),o(r,null,l(Object.keys((i=t.todolist)==null?void 0:i.dairy),n=>(e(),o("div",{class:"p-2",key:t.todolist.dairy[n]},[f(" - "),(e(!0),o(r,null,l(t.todolist.dairy[n],s=>(e(),o("a",{key:s,href:s.href,class:_(s.href?"text-blue-500 underline":"")},g(s.text),11,K))),128))]))),128))])]}),_:1},8,["loading"])):p("",!0),Object.keys(t.todolist.monthly).length>0?(e(),d(h,{key:3,icon:"formatListChecks",title:"รายเดือน","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:c(()=>{var i;return[u("div",Q,[(e(!0),o(r,null,l(Object.keys((i=t.todolist)==null?void 0:i.monthly),n=>(e(),o("div",{class:"p-2",key:t.todolist.monthly[n]},[f(" - "),(e(!0),o(r,null,l(t.todolist.monthly[n],s=>(e(),o("a",{key:s,href:s.href,class:_(s.href?"text-blue-500 underline":"")},g(s.text),11,R))),128))]))),128))])]}),_:1},8,["loading"])):p("",!0),Object.keys(t.todolist.notification).length>0?(e(),d(h,{key:4,icon:"formatListChecks",title:"ครบกำหนดวันนี้","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:c(()=>{var i;return[u("div",U,[(e(!0),o(r,null,l(Object.keys((i=t.todolist)==null?void 0:i.notification),n=>(e(),o("div",{class:"p-2",key:t.todolist.notification[n]},[f(" - "),(e(!0),o(r,null,l(t.todolist.notification[n],s=>(e(),o("a",{key:s,href:s.href,class:_(s.href?"text-blue-500 underline":"")},g(s.text),11,W))),128))]))),128))])]}),_:1},8,["loading"])):p("",!0),b(T,{title:"กำหนดการแจ้งเตือน",icon:"calendarBadgeOutline",items:t.events,datas:t.eventColumns,perPage:"5",loading:t.loading.events},null,8,["items","datas","loading"])])]}),_:1})]),_:1})}const ct=V(z,[["render",X]]);export{ct as default};
