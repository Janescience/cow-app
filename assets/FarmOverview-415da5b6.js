import{c as J,_ as K,d as X,a as Z}from"./BaseDivider-f8478640.js";import{a as S,C as M,l as F,m as Q,p as q,q as V,o as u,s as m,v as $,x as E,y as j,z as b,c as tt,w as _,d as i,j as e,g as B,t as h,f as D}from"./index-ebcde427.js";import{_ as et}from"./DoughnutChart-b07ae467.js";import{_ as st}from"./SectionTitleBar-05bb33f6.js";import{_ as at}from"./SectionTitleBarSub-b9e42d72.js";import{_ as lt}from"./LayoutAuthenticated-fccff6f4.js";import{T as ot}from"./Table-b5f57db0.js";import{_ as it}from"./FormControl-22f13e62.js";import{_ as rt}from"./FormField-4f3f2594.js";import{D as Y}from"./dashboard-2bdf56f4.js";import{y as nt,m as G}from"./date-0e094a32.js";import"./UserAvatar-ad2f0a29.js";import"./CardBoxModal-ba84ad01.js";const ct={__name:"BarChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,l=S(null);let c;M.register(...F),Q(()=>{c=new M(l.value,{type:"bar",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})});const s=q(()=>a.data);return V(s,n=>{c&&(c.data=n,c.update())}),(n,r)=>(u(),m("canvas",{ref_key:"root",ref:l},null,512))}},dt={__name:"LineChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,l=S(null);let c;M.register(...F),Q(()=>{c=new M(l.value,{type:"line",data:a.data,options:{responsive:!0,plugins:{title:{display:!0}},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,suggestedMin:0,suggestedMax:200}}}})});const s=q(()=>a.data);return V(s,n=>{c&&(c.data=n,c.update())}),(n,r)=>(u(),m("canvas",{ref_key:"root",ref:l},null,512))}},ht={__name:"PieChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,l=S(null);let c;M.register(...F),Q(()=>{c=new M(l.value,{type:"pie",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",display:!0}}}})});const s=q(()=>a.data);return V(s,n=>{c&&(c.data=n,c.update())}),(n,r)=>(u(),m("canvas",{ref_key:"root",ref:l},null,512))}},ut={data(){return{milkLastQtyChart:null,milkLastAmtChart:null,foodMonthChart:null,milkAllQtyChart:null,milkAllAmtChart:null,doughnutFixedCostChartData:null,doughnutVaryCostChartData:null,doughnutBillChartData:null,doughnutCareChartData:null,doughnutIncomeChartData:null,lineChartColors:{primary:"#00D1B2",danger:"#FF3860"},milkLasts:[],milkAlls:[],statistics:{},corrals:[],food:{},foodYear:new Date().getFullYear(),milkYear:new Date().getFullYear(),businessYear:new Date().getFullYear(),milkYearSearch:!1,foodYearSearch:!1,businessYearSearch:!1,milkLast:{},milkAll:{},cow:{},corralColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCows",class:"text-center"}],foodColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCow",class:"text-center"},{label:"จำนวนเฉลี่ย/เดือน (กก.)",value:"avgQty",class:"text-center",type:"number"},{label:"ค่าใช้จ่ายเฉลี่ย/เดือน (บาท)",value:"avgAmount",class:"text-right",type:"currency"},{label:"จำนวนเดือน",value:"count"}],years:nt(),expense:{},income:{},loading:{milks:!0,expense:!0,income:!0,corral:!0,statistic:!0,food:!0}}},components:{DoughnutChart:et,LineChart:dt,BarChart:ct,SectionMain:J,SectionTitleBar:st,CardBox:K,SectionTitleBarSub:at,LayoutAuthenticated:lt,BaseIcon:X,BaseDivider:Z,Table:ot,FormControl:it,FormField:rt,PieChart:ht},watch:{foodYear(t){t&&this.getFood(t)},milkYear(t){t&&this.getMilks(t)},businessYear(t){t&&(this.getExpense(t),this.getIncome(t))}},computed:{user(){return this.$store.state.auth.user}},created(){this.getFood(),this.getIncome(),this.getMilks(),this.getExpense(),this.getCorrals(),this.getStatistics()},methods:{async getMilks(t){this.loading.milks=!0;const a=await Y.getMilks(t||this.milkYear);if(a){const l=a.data.last;this.milkLast.sumQty=0,this.milkLast.sumAmt=0;for(let r of l){r.month=E(r.date,"DD-MM-YYYY").format("M");let C=r.milkDetails.reduce((k,p)=>k+p.qty,0),v=r.milkDetails.reduce((k,p)=>k+p.amount,0);this.milkLast.sumQty+=C,this.milkLast.sumAmt+=v}const c=j.groupBy(l,"date");this.milkLast.avgQty=this.milkLast.sumQty>0?this.milkLast.sumQty/Object.keys(c).length:0,this.milkLast.avgAmt=this.milkLast.sumAmt>0?this.milkLast.sumAmt/Object.keys(c).length:0,this.milkLast.count=Object.keys(c).length,this.milkLasts=j.groupBy(l,"month");for(let r of Object.keys(this.milkLasts))this.milkLasts[r][0].date=E(this.milkLasts[r][0].date,"DD-MM-YYYY").format("MMM"),this.milkLasts[this.milkLasts[r][0].date]=this.milkLasts[r],delete this.milkLasts[r];const s=a.data.all;this.milkAll.sumQty=0,this.milkAll.sumAmt=0;for(let r of s){r.year=E(r.date,"YYYY-MM-DD").format("YYYY"),r.month=E(r.date,"YYYY-MM-DD").format("M");let C=r.milkDetails.reduce((k,p)=>k+p.qty,0),v=r.milkDetails.reduce((k,p)=>k+p.amount,0);this.milkAll.sumQty+=C,this.milkAll.sumAmt+=v}const n=j.groupBy(s,"month");this.milkAlls=j.groupBy(s,"year"),this.milkAll.count=Object.keys(this.milkAlls).length,this.milkAll.avgQty=this.milkAll.sumQty>0?this.milkAll.sumQty/Object.keys(n).length:0,this.milkAll.avgAmt=this.milkAll.sumAmt>0?this.milkAll.sumAmt/this.milkAll.count:0}this.milkLastQtyChart=this.createMilkLastChart("qty"),this.milkLastAmtChart=this.createMilkLastChart("amt"),this.milkAllQtyChart=this.createMilkAllChart("qty"),this.milkAllAmtChart=this.createMilkAllChart("amt"),this.loading.milks=!1},async getFood(t){this.loading.food=!0;const a=await Y.getFood(t||this.foodYear);a.data&&(this.food=a.data,this.foodMonthChart=this.createFoodMonthChart()),this.loading.food=!1},async getExpense(t){this.loading.expense=!0;const a=await Y.getExpense(t||this.businessYear);a&&(this.expense=a.data),this.loading.expense=!1,this.doughnutFixedCostChartData=this.createDoughnutChart("fixedCost"),this.doughnutVaryCostChartData=this.createDoughnutChart("varyCost"),this.doughnutBillChartData=this.createDoughnutChart("bill"),this.doughnutCareChartData=this.createDoughnutChart("care")},async getIncome(t){this.loading.income=!0;const a=await Y.getIncome(t||this.businessYear);a&&(this.income=a.data),this.loading.income=!1,this.doughnutIncomeChartData=this.createDoughnutChart("income")},async getCorrals(){this.loading.corral=!0;const t=await Y.getCorrals();t&&(this.corrals=t.data),this.loading.corral=!1},async getStatistics(){this.loading.statistic=!0;const t=await Y.getStatistics();t&&(this.statistics=t.data),this.loading.statistic=!1},milkLastChartAnlyz(t){const a=[];return t=="qty"?Object.keys(this.milkLasts).forEach(l=>{let c=this.milkLasts[l],s=0;c.map(n=>{n.milkDetails.map(r=>{s+=r.qty})}),a.push(s)}):Object.keys(this.milkLasts).forEach(l=>{let c=this.milkLasts[l],s=0;c.map(n=>{n.milkDetails.map(r=>{s+=r.amount})}),a.push(s)}),a},milkAllChartAnlyz(t){const a=[];return t==="qty"?Object.keys(this.milkAlls).forEach(l=>{let c=this.milkAlls[l],s=0;c.map(n=>{n.milkDetails.map(r=>{s+=r.qty})}),a.push(s)}):Object.keys(this.milkAlls).forEach(l=>{let c=this.milkAlls[l],s=0;c.map(n=>{n.milkDetails.map(r=>{s+=r.amount})}),a.push(s)}),a},foodMonthChartAnlyz(t){const a=[],l=[];return this.food.month.map(s=>{a.push(s.sumAmount),l.push(s.sumQty)}),{amount:a,qty:l}},foodMonthAmountChartObj(t,a){return{label:"ค่าอาหาร",borderColor:"#566573",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#5D6D7E",data:this.foodMonthChartAnlyz().amount,tension:.5}},foodMonthQtyChartObj(t,a){return{label:"จำนวน (กก.)",borderColor:"#E83105",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#F6461C",data:this.foodMonthChartAnlyz().qty,tension:.5}},milkLastChartObj(t,a){return{label:a=="qty"?"น้ำนมดิบ":"รายได้",borderColor:a=="qty"?"#e11d48":"#16a34a",borderWidth:2,borderRadius:5,borderSkipped:!0,barPercentage:.5,backgroundColor:a=="qty"?"#db2777":"#65a30d",data:this.milkLastChartAnlyz(a),tension:.5}},milkAllChartObj(t,a){return{label:a=="qty"?"น้ำนมดิบ":"รายได้",fill:!1,borderColor:a=="qty"?"#e11d48":"#16a34a",backgroundColor:a=="qty"?"#db2777":"#65a30d",borderWidth:3,data:this.milkAllChartAnlyz(a),tension:.4,cubicInterpolationMode:"monotone"}},createFoodMonthChart(){const t=[];return G().forEach(a=>{t.push(`${a}`)}),{labels:t,datasets:[this.foodMonthAmountChartObj(),this.foodMonthQtyChartObj()]}},createMilkLastChart(t){const a=[];return Object.keys(this.milkLasts),G().forEach(l=>{a.push(`${l}`)}),{labels:a,datasets:[this.milkLastChartObj("primary",t)]}},createMilkAllChart(t){const a=[];return Object.keys(this.milkAlls).forEach(l=>{a.push(`${l}`)}),{labels:a,datasets:[this.milkAllChartObj("danger",t)]}},getDoughnutChartData(t){const a=[];return t=="fixedCost"?Object.keys(this.expense.fixedCost).forEach(l=>{a.push(this.expense.fixedCost[l])}):t=="varyCost"?Object.keys(this.expense.varyCost).forEach(l=>{a.push(this.expense.varyCost[l])}):t=="bill"?Object.keys(this.expense.bill).forEach(l=>{a.push(this.expense.bill[l])}):t=="care"?Object.keys(this.expense.care).forEach(l=>{a.push(this.expense.care[l])}):t=="income"&&Object.keys(this.income).forEach(l=>{a.push(this.income[l])}),a},getDoughnutChartObject(t){return{data:this.getDoughnutChartData(t),borderWidth:2,weight:2,backgroundColor:t==="cost"||t==="income"?["#84cc16","#f59e0b","#34d399","#38bdf8","#fb7185"]:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4}},createDoughnutChart(t){const a=[];return t=="fixedCost"?Object.keys(this.expense.fixedCost).forEach(l=>{a.push(`${this.mapText(t)[l]}`)}):t=="varyCost"?Object.keys(this.expense.varyCost).forEach(l=>{a.push(`${this.mapText(t)[l]}`)}):t=="bill"?Object.keys(this.expense.bill).forEach(l=>{a.push(`${this.mapText(t)[l]}`)}):t=="care"?Object.keys(this.expense.care).forEach(l=>{a.push(`${this.mapText(t)[l]}`)}):t=="income"&&Object.keys(this.income).forEach(l=>{a.push(`${this.mapText(t)[l]}`)}),{labels:a,datasets:[this.getDoughnutChartObject(t)]}},mapText(t){if(t=="fixedCost")return{building:"สิ่งปลูกสร้าง",equipment:"อุปกรณ์"};if(t=="varyCost")return{cow:"ค่านำเข้าโค",maintenance:"ซ่อมบำรุง"};if(t=="bill")return{water:"ค่าน้ำ",electric:"ค่าไฟ",accom:"ค่าที่พักคนงาน",rent:"ค่าเช่า",internet:"ค่าอินเทอร์เน็ต",waste:"ค่าของเสีย",oth:"อื่นๆ"};if(t=="care")return{food:"ค่าอาหาร",heal:"ค่ารักษา",protection:"ค่าวัคซีน",worker:"ค่าจ้างคนงาน"};if(t=="income")return{rawMilk:"น้ำนมดิบ",cowExport:"จำหน่ายโค",pasteuri:"นมพาสเจอไรซ์",dung:"มูลสัตว์",meat:"จำหน่ายเนื้อโค"}},sumExpense(){var C,v,k,p,f,L,w,x,O;let t=0,a=0,l=0,c=0,s=0;if((C=this.expense)!=null&&C.care)for(let A of Object.keys((v=this.expense)==null?void 0:v.care)){const o=this.expense.care[A];o&&(l+=o)}if((k=this.expense)!=null&&k.fixedCost)for(let A of Object.keys((p=this.expense)==null?void 0:p.fixedCost)){const o=this.expense.fixedCost[A];o&&(t+=o)}if((f=this.expense)!=null&&f.varyCost)for(let A of Object.keys((L=this.expense)==null?void 0:L.varyCost)){const o=this.expense.varyCost[A];o&&(a+=o)}if((w=this.expense)!=null&&w.bill)for(let A of Object.keys((x=this.expense)==null?void 0:x.bill)){const o=this.expense.bill[A];o&&(c+=o)}let n=l+t+a+c,r=this.income.rawMilk-n;return r>=0?s=r/((O=this.income)==null?void 0:O.rawMilk)*100:s=r/n*100,{sumExpense:n,sumCare:l,sumFixedCost:t,sumVaryCost:a,sumBill:c,profit:r,percent:s}},formatDate(t){return t?E(new Date(t)).format("DD/MM/YYYY"):""}}},mt={class:"grid grid-cols-1 gap-5"},_t={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},ft={key:1,class:"h-52 mt-5"},pt={key:2,class:"text-gray-500"},gt={class:"grid grid-cols-1 gap-5"},kt={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},xt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3"},yt={class:"overflow-x-auto"},bt=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (วัน)"),e("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/วัน (กก.)")])],-1),Ct={class:"font-extrabold text-2xl"},vt={class:"text-center"},At={class:"text-center"},wt={class:"text-center"},Dt={key:0,class:"mt-3 h-60 mb-5"},Yt={key:1,class:"text-gray-500"},Mt={class:"overflow-x-auto"},Lt=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/วัน (บาท)")])],-1),Et={class:"font-extrabold text-2xl"},Ot={class:"text-center"},jt={class:"text-center"},Bt={key:0,class:"mt-3 h-60"},St={key:1,class:"text-gray-500"},Ft={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},Qt={class:"overflow-x-auto"},qt=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (ปี)"),e("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)")])],-1),Vt={class:"font-extrabold text-2xl"},zt={class:"text-center"},Tt={class:"text-center"},It={class:"text-center"},Rt={key:0,class:"lg:h-62"},Pt={key:1,class:"text-gray-500"},Wt={class:"overflow-x-auto"},Nt=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/ปี (บาท)")])],-1),Ht={class:"font-extrabold text-2xl"},Ut={class:"text-center"},Gt={class:"text-center"},Jt={key:0,class:"lg:h-62"},Kt={key:1,class:"text-gray-500"},Xt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},Zt={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},$t={class:"grid lg:grid-cols-4 grid-cols-1 gap-5 text-center"},te=e("p",null,"ต้นทุนคงที่",-1),ee={class:"text-red-500 underline decoration-2 font-extrabold"},se={key:0,class:"h-80"},ae={key:1,class:"text-gray-500"},le=e("p",null,"ต้นทุนผันผวน",-1),oe={class:"text-red-500 underline decoration-2 font-extrabold"},ie={key:0,class:"h-80"},re={key:1,class:"text-gray-500"},ne=e("p",null,"ค่าดูแลโค",-1),ce={class:"text-red-500 underline decoration-2 font-extrabold"},de={key:0,class:"h-80"},he={key:1,class:"text-gray-500"},ue=e("p",null,"ค่าใช้จ่ายเพิ่มเติม",-1),me={class:"text-red-500 underline decoration-2 font-extrabold"},_e={key:0,class:"h-80"},fe={key:1,class:"text-gray-500"},pe={class:"grid grid-cols-1 gap-5 text-center"},ge=e("p",null,"ผลผลิต",-1),ke={class:"text-lime-500 underline decoration-2 font-extrabold"},xe={key:0,class:"h-80"},ye={key:1,class:"text-gray-500"},be={class:"grid grid-cols-1 gap-5 text-center"},Ce=e("div",{class:"dark:text-gray-300"}," รายรับ ",-1),ve={class:"font-extrabold text-2xl"},Ae=e("div",{class:"dark:text-gray-300"}," รายจ่าย ",-1),we={class:"font-extrabold text-2xl"},De={class:"dark:text-gray-300"},Ye={class:"font-extrabold text-2xl"},Me={class:"font-extrabold text-2xl"},Le={class:"grid lg:grid-cols-4 grid-cols-1 gap-5"},Ee={class:"grid grid-cols-2 gap-5"},Oe={class:"mt-1"},je={class:"lg:text-xl text-lg text-yellow-600 text-center"},Be={key:0,class:"grid grid-cols-2 gap-5 mt-5"},Se={class:"mt-1"},Fe=e("div",{class:"text-xs text-gray-500"},"(รักษามากที่สุด)",-1),Qe={class:"lg:text-xl text-lg text-yellow-600 text-center"},qe={class:"grid grid-cols-2 gap-5"},Ve={class:"mt-1"},ze={class:"lg:text-xl text-lg text-yellow-600 text-center"},Te={class:"mt-1"},Ie={class:"lg:text-xl text-lg text-yellow-600 text-center"},Re={class:"grid grid-cols-2 gap-5"},Pe={class:"mt-1"},We={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ne={class:"mt-1"},He=e("div",{class:"text-xs text-gray-500"},"(มากกว่า 8 เดือน)",-1),Ue={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ge={class:"grid grid-cols-2 gap-5"},Je={class:"mt-1"},Ke={class:"lg:text-xl text-lg text-yellow-600 text-center"},Xe={class:"mt-1"},Ze={class:"lg:text-xl text-lg text-yellow-600 text-center"};function $e(t,a,l,c,s,n){const r=b("SectionTitleBarSub"),C=b("FormControl"),v=b("FormField"),k=b("Table"),p=b("bar-chart"),f=b("CardBox"),L=b("line-chart"),w=b("pie-chart"),x=b("BaseIcon"),O=b("SectionMain"),A=b("LayoutAuthenticated");return u(),tt(A,null,{default:_(()=>[i(O,null,{default:_(()=>[i(r,{icon:"chartPie",title:"ภาพรวมฟาร์ม"}),e("div",mt,[i(f,{title:"การให้อาหาร (ปี พ.ศ. "+(s.foodYear+543)+")",icon:"corn",onHeaderIconClick:a[1]||(a[1]=()=>{this.foodYearSearch=!this.foodYearSearch}),"header-icon":"magnifyExpand"},{default:_(()=>{var o,d;return[s.foodYearSearch?(u(),m("div",_t,[i(v,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[i(C,{modelValue:s.foodYear,"onUpdate:modelValue":a[0]||(a[0]=g=>s.foodYear=g),options:s.years},null,8,["modelValue","options"])]),_:1})])):B("",!0),i(k,{title:"คอก",icon:"barn",items:s.food.corral,datas:s.foodColumns,perPage:"5",loading:s.loading.food},null,8,["items","datas","loading"]),((d=(o=s.foodMonthChart)==null?void 0:o.datasets[0])==null?void 0:d.data.length)>0?(u(),m("div",ft,[i(p,{data:s.foodMonthChart},null,8,["data"])])):(u(),m("div",pt,"ไม่มีข้อมูล..."))]}),_:1},8,["title"]),i(f,{title:"น้ำนมดิบ",icon:"water",class:"lg:p-4 md:p-4","has-table":"","header-icon":""},{default:_(()=>[e("div",gt,[i(f,{title:"รายเดือน (ปี พ.ศ. "+(s.milkYear+543)+")",icon:"chartBellCurveCumulative",class:"",loading:s.loading.milks,onHeaderIconClick:a[3]||(a[3]=()=>{this.milkYearSearch=!this.milkYearSearch}),"header-icon":"magnifyExpand"},{default:_(()=>[e("div",kt,[s.milkYearSearch?(u(),m("div",xt,[i(v,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[i(C,{modelValue:s.milkYear,"onUpdate:modelValue":a[2]||(a[2]=o=>s.milkYear=o),options:s.years},null,8,["modelValue","options"])]),_:1})])):B("",!0),i(f,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:_(()=>{var o,d;return[e("div",yt,[e("table",null,[bt,e("tbody",null,[e("tr",Ct,[e("td",vt,h(s.milkLast.count),1),e("td",At,h(t.$filters.number(s.milkLast.sumQty)),1),e("td",wt,h(t.$filters.number(s.milkLast.avgQty)),1)])])])]),((d=(o=s.milkLastQtyChart)==null?void 0:o.datasets[0])==null?void 0:d.data[0])>0?(u(),m("div",Dt,[i(p,{data:s.milkLastQtyChart},null,8,["data"])])):(u(),m("div",Yt,"ไม่มีข้อมูล..."))]}),_:1}),i(f,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:_(()=>{var o,d;return[e("div",Mt,[e("table",null,[Lt,e("tbody",null,[e("tr",Et,[e("td",Ot,h(t.$filters.currency(s.milkLast.sumAmt)),1),e("td",jt,h(t.$filters.currency(s.milkLast.avgAmt)),1)])])])]),((d=(o=s.milkLastAmtChart)==null?void 0:o.datasets[0])==null?void 0:d.data[0])>0?(u(),m("div",Bt,[i(p,{data:s.milkLastAmtChart},null,8,["data"])])):(u(),m("div",St,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1},8,["title","loading"]),i(f,{title:"รายปี",icon:"chartBellCurveCumulative","header-icon":""},{default:_(()=>[e("div",Ft,[i(f,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:_(()=>{var o,d;return[e("div",Qt,[e("table",null,[qt,e("tbody",null,[e("tr",Vt,[e("td",zt,h(s.milkAll.count),1),e("td",Tt,h(t.$filters.number(s.milkAll.sumQty)),1),e("td",It,h(t.$filters.number(s.milkAll.avgQty)),1)])])])]),((d=(o=s.milkAllQtyChart)==null?void 0:o.datasets[0])==null?void 0:d.data[0])>0?(u(),m("div",Rt,[i(L,{data:s.milkAllQtyChart},null,8,["data"])])):(u(),m("div",Pt,"ไม่มีข้อมูล..."))]}),_:1}),i(f,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:_(()=>{var o,d;return[e("div",Wt,[e("table",null,[Nt,e("tbody",null,[e("tr",Ht,[e("td",Ut,h(t.$filters.currency(s.milkAll.sumAmt)),1),e("td",Gt,h(t.$filters.currency(s.milkAll.avgAmt)),1)])])])]),((d=(o=s.milkAllAmtChart)==null?void 0:o.datasets[0])==null?void 0:d.data[0])>0?(u(),m("div",Jt,[i(L,{data:s.milkAllAmtChart},null,8,["data"])])):(u(),m("div",Kt,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1})])]),_:1}),i(f,{title:"ผลประกอบการ (ปี พ.ศ. "+(s.businessYear+543)+")",icon:"cashRegister","header-icon":"magnifyExpand",onHeaderIconClick:a[5]||(a[5]=()=>{this.businessYearSearch=!this.businessYearSearch})},{default:_(()=>[s.businessYearSearch?(u(),m("div",Xt,[i(v,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[i(C,{modelValue:s.businessYear,"onUpdate:modelValue":a[4]||(a[4]=o=>s.businessYear=o),options:s.years},null,8,["modelValue","options"])]),_:1})])):B("",!0),e("div",Zt,[i(f,{title:"รายจ่าย",class:"lg:col-span-2","header-icon":""},{default:_(()=>{var o,d;return[e("div",$t,[e("div",null,[te,e("div",ee,h(t.$filters.currency(n.sumExpense().sumFixedCost)),1),n.sumExpense().sumFixedCost>0?(u(),m("div",se,[i(w,{data:s.doughnutFixedCostChartData},null,8,["data"])])):(u(),m("div",ae,"ไม่มีข้อมูล..."))]),e("div",null,[le,e("div",oe,h(t.$filters.currency(n.sumExpense().sumVaryCost)),1),n.sumExpense().sumVaryCost>0?(u(),m("div",ie,[i(w,{data:s.doughnutVaryCostChartData},null,8,["data"])])):(u(),m("div",re,"ไม่มีข้อมูล..."))]),e("div",null,[ne,e("div",ce,h(t.$filters.currency(n.sumExpense().sumCare)),1),n.sumExpense().sumCare>0?(u(),m("div",de,[i(w,{data:s.doughnutCareChartData},null,8,["data"])])):(u(),m("div",he,"ไม่มีข้อมูล..."))]),e("div",null,[ue,e("div",me,h(t.$filters.currency(n.sumExpense().sumBill)),1),((d=(o=s.doughnutBillChartData)==null?void 0:o.datasets[0])==null?void 0:d.data[0])>0?(u(),m("div",_e,[i(w,{data:s.doughnutBillChartData},null,8,["data"])])):(u(),m("div",fe,"ไม่มีข้อมูล..."))])])]}),_:1}),i(f,{title:"รายรับ","header-icon":""},{default:_(()=>[e("div",pe,[e("div",null,[ge,e("div",ke,h(t.$filters.currency(s.income.rawMilk)),1),s.income.rawMilk>0?(u(),m("div",xe,[i(w,{data:s.doughnutIncomeChartData},null,8,["data"])])):(u(),m("div",ye,"ไม่มีข้อมูล..."))])])]),_:1}),i(f,{title:"สรุป","header-icon":""},{default:_(()=>{var o;return[e("div",be,[Ce,e("div",ve,h(t.$filters.currency(this.income.rawMilk)),1),Ae,e("div",we,h(t.$filters.currency(n.sumExpense().sumExpense)),1),e("div",De,h(n.sumExpense().profit>0?"กำไร":"ขาดทุน"),1),e("div",Ye,h(t.$filters.currency((o=n.sumExpense())==null?void 0:o.profit)),1),e("div",Me,h(t.$filters.number(n.sumExpense().percent|0))+" % ",1)])]}),_:1})])]),_:1},8,["title"]),i(f,{icon:"poll",title:"สถิติ","header-icon":"",class:"mb-1 lg:mb-5"},{default:_(()=>[e("div",Le,[i(f,{title:"การรักษา","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var o,d,g,y,z,T,I,R,P,W,N,H,U;return[e("div",Ee,[e("p",Oe,[i(x,{class:"bg-red-900 text-rose-400 rounded-full p-1 mr-2",path:"plusThick",size:"16"}),D("ทั้งหมด ")]),e("h1",je,h((d=(o=s.statistics)==null?void 0:o.heal)==null?void 0:d.count),1)]),(T=(z=(y=(g=s.statistics)==null?void 0:g.heal)==null?void 0:y.max)==null?void 0:z.cow)!=null&&T.name?(u(),m("div",Be,[e("p",Se,[i(x,{class:"bg-gray-700 text-white rounded-full p-1 mr-2",path:"cow",size:"16"}),D("โค"+h((W=(P=(R=(I=s.statistics)==null?void 0:I.heal)==null?void 0:R.max)==null?void 0:P.cow)==null?void 0:W.name)+" ",1),Fe]),e("h1",Qe,h((U=(H=(N=s.statistics)==null?void 0:N.heal)==null?void 0:H.max)==null?void 0:U.count),1)])):B("",!0)]}),_:1}),i(f,{title:"การผสมพันธุ์","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var o,d,g,y;return[e("div",qe,[e("p",Ve,[i(x,{class:"bg-teal-900 text-green-500 rounded-full p-1 mr-2",path:"check",size:"16"}),D("สำเร็จ ")]),e("h1",ze,h((d=(o=s.statistics)==null?void 0:o.reproduction)==null?void 0:d.success),1),e("p",Te,[i(x,{class:"bg-red-900 text-rose-500 rounded-full p-1 mr-2",path:"close",size:"16"}),D("ล้มเหลว ")]),e("h1",Ie,h((y=(g=s.statistics)==null?void 0:g.reproduction)==null?void 0:y.fail),1)])]}),_:1}),i(f,{title:"การตั้งครรภ์","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var o,d,g,y;return[e("div",Re,[e("p",Pe,[i(x,{class:"bg-black text-gray-300 rounded-full p-1 mr-2",path:"emoticonCryOutline",size:"16"}),D(" แท้ง ")]),e("h1",We,h((d=(o=s.statistics)==null?void 0:o.pregnant)==null?void 0:d.abort),1),e("p",Ne,[i(x,{class:"bg-orange-900 text-yellow-500 rounded-full p-1 mr-2",path:"calendarClock",size:"16"}),D(" ใกล้คลอด "),He]),e("h1",Ue,h((y=(g=s.statistics)==null?void 0:g.pregnant)==null?void 0:y.nearBirth),1)])]}),_:1}),i(f,{title:"การคลอด","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var o,d,g,y;return[e("div",Ge,[e("p",Je,[i(x,{class:"bg-indigo-900 text-white rounded-full p-1 mr-2",path:"genderMale",size:"16"}),D("เพศผู้ ")]),e("h1",Ke,h((d=(o=s.statistics)==null?void 0:o.born)==null?void 0:d.male),1),e("p",Xe,[i(x,{class:"bg-rose-900 text-white rounded-full p-1 mr-2",path:"genderFemale",size:"16"}),D("เพศเมีย ")]),e("h1",Ze,h((y=(g=s.statistics)==null?void 0:g.born)==null?void 0:y.female),1)])]}),_:1})])]),_:1})])]),_:1})]),_:1})}const ms=$(ut,[["render",$e]]);export{ms as default};
