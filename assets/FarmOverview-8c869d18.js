import{c as J,_ as K,d as X,a as Z}from"./BaseDivider-95ad4108.js";import{a as M,C as S,l as B,m as q,p as F,q as V,o as m,s as u,v as $,x as D,y as j,z as v,c as tt,w as _,d as l,j as t,g as E,t as h,f as w}from"./index-eca85292.js";import{_ as et}from"./DoughnutChart-17759f9d.js";import{_ as st}from"./SectionTitleBar-71d62d87.js";import{_ as at}from"./SectionTitleBarSub-7fa72d8f.js";import{_ as lt}from"./LayoutAuthenticated-3f1c05d6.js";import{T as ot}from"./Table-ff262201.js";import{_ as it}from"./FormControl-42986717.js";import{_ as rt}from"./FormField-b970840e.js";import{D as C}from"./dashboard-08012f31.js";import{y as ct,m as H}from"./date-1696e46e.js";import"./UserAvatar-6ff9a87e.js";import"./CardBoxModal-024406f0.js";const nt={__name:"BarChart",props:{data:{type:Object,required:!0}},setup(e){const a=e,c=M(null);let i;S.register(...B),q(()=>{i=new S(c.value,{type:"bar",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})});const s=F(()=>a.data);return V(s,r=>{i&&(i.data=r,i.update())}),(r,o)=>(m(),u("canvas",{ref_key:"root",ref:c},null,512))}},dt={__name:"LineChart",props:{data:{type:Object,required:!0}},setup(e){const a=e,c=M(null);let i;S.register(...B),q(()=>{i=new S(c.value,{type:"line",data:a.data,options:{responsive:!0,plugins:{title:{display:!0}},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,suggestedMin:0,suggestedMax:200}}}})});const s=F(()=>a.data);return V(s,r=>{i&&(i.data=r,i.update())}),(r,o)=>(m(),u("canvas",{ref_key:"root",ref:c},null,512))}},ht={__name:"PieChart",props:{data:{type:Object,required:!0}},setup(e){const a=e,c=M(null);let i;S.register(...B),q(()=>{i=new S(c.value,{type:"pie",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",display:!0}}}})});const s=F(()=>a.data);return V(s,r=>{i&&(i.data=r,i.update())}),(r,o)=>(m(),u("canvas",{ref_key:"root",ref:c},null,512))}},mt={data(){return{chart:{milk:{all:{qty:null,amt:null},year:{qty:null,amt:null}},business:{all:null},expense:{cost:null,bill:null,care:null},income:null,food:{year:null}},milkYears:[],milkAlls:[],statistics:{},corrals:[],food:{},foodYear:new Date().getFullYear(),milkYearValue:new Date().getFullYear(),businessYear:new Date().getFullYear(),milkYearSearch:!1,foodYearSearch:!1,businessYearSearch:!1,milkYear:{},milkAll:{},cow:{},corralColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCows",class:"text-center"}],foodColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCow",class:"text-center"},{label:"จำนวนเฉลี่ย/เดือน (กก.)",value:"avgQty",class:"text-center",type:"number"},{label:"ค่าใช้จ่ายเฉลี่ย/เดือน (บาท)",value:"avgAmount",class:"text-right",type:"currency"},{label:"จำนวนเดือน",value:"count"}],years:ct("search"),expense:{},expenseSum:{},income:{},incomeSum:{},loading:{milks:!0,expense:!0,income:!0,corral:!0,statistic:!0,food:!0}}},components:{DoughnutChart:et,LineChart:dt,BarChart:nt,SectionMain:J,SectionTitleBar:st,CardBox:K,SectionTitleBarSub:at,LayoutAuthenticated:lt,BaseIcon:X,BaseDivider:Z,Table:ot,FormControl:it,FormField:rt,PieChart:ht},watch:{foodYear(e){e&&this.getFood(e)},milkYearValue(e){e&&this.getMilks(e)},businessYear(e){e?(this.incomeSum={},this.expenseSum={},this.getExpense(e),this.getIncome(e)):(this.getExpenseAll(),this.getIncomeAll())}},computed:{user(){return this.$store.state.auth.user}},created(){this.getFood(),this.getIncome(),this.getMilks(),this.getExpense(),this.getCorrals(),this.getStatistics()},methods:{async getMilks(e){this.loading.milks=!0;const a=await C.getMilks(e||this.milkYearValue);if(a){const c=a.data.last;this.milkYear.sumQty=0,this.milkYear.sumAmt=0;for(let o of c){o.month=D(o.date,"DD-MM-YYYY").format("M");let x=o.milkDetails.reduce((b,g)=>b+g.qty,0),f=o.milkDetails.reduce((b,g)=>b+g.amount,0);this.milkYear.sumQty+=x,this.milkYear.sumAmt+=f}const i=j.groupBy(c,"date");this.milkYear.avgQty=this.milkYear.sumQty>0?this.milkYear.sumQty/Object.keys(i).length:0,this.milkYear.avgAmt=this.milkYear.sumAmt>0?this.milkYear.sumAmt/Object.keys(i).length:0,this.milkYear.count=Object.keys(i).length,this.milkYears=j.groupBy(c,"month");for(let o of Object.keys(this.milkYears))this.milkYears[o][0].date=D(this.milkYears[o][0].date,"DD-MM-YYYY").format("MMM"),this.milkYears[this.milkYears[o][0].date]=this.milkYears[o],delete this.milkYears[o];const s=a.data.all;this.milkAll.sumQty=0,this.milkAll.sumAmt=0;for(let o of s){o.year=D(o.date,"YYYY-MM-DD").format("YYYY"),o.month=D(o.date,"YYYY-MM-DD").format("M");let x=o.milkDetails.reduce((b,g)=>b+g.qty,0),f=o.milkDetails.reduce((b,g)=>b+g.amount,0);this.milkAll.sumQty+=x,this.milkAll.sumAmt+=f}const r=j.groupBy(s,"month");this.milkAlls=j.groupBy(s,"year"),this.milkAll.count=Object.keys(this.milkAlls).length,this.milkAll.avgQty=this.milkAll.sumQty>0?this.milkAll.sumQty/Object.keys(r).length:0,this.milkAll.avgAmt=this.milkAll.sumAmt>0?this.milkAll.sumAmt/this.milkAll.count:0}this.chart.milk.year.qty=this.milkChart("qty",this.milkYears,"year"),this.chart.milk.year.amt=this.milkChart("amount",this.milkYears,"year"),this.chart.milk.all.qty=this.milkChart("qty",this.milkAlls,"all"),this.chart.milk.all.amt=this.milkChart("amount",this.milkAlls,"all"),this.loading.milks=!1},async getFood(e){this.loading.food=!0;const a=await C.getFood(e||this.foodYear);a.data&&(this.food=a.data,this.chart.food.year=this.foodChart()),this.loading.food=!1},async getExpense(e){this.loading.expense=!0;const a=await C.getExpense(e||this.businessYear);a&&(this.expense=a.data),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getExpenseAll(){this.loading.expense=!0;const e=await C.getExpenseAll();e&&(this.expense=e.data.expenseDetail,this.expenseSum=e.data.expenseSum),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getIncome(e){this.loading.income=!0;const a=await C.getIncome(e||this.businessYear);a&&(this.income=a.data),this.loading.income=!1,this.chart.income=this.incomeChart()},async getIncomeAll(){this.loading.income=!0;const e=await C.getIncomeAll();e&&(this.income=e.data.incomeDetail,this.incomeSum=e.data.incomeSum),this.loading.income=!1,this.chart.business.all=this.businessAllChart(),this.chart.income=this.incomeChart()},async getCorrals(){this.loading.corral=!0;const e=await C.getCorrals();e&&(this.corrals=e.data),this.loading.corral=!1},async getStatistics(){this.loading.statistic=!0;const e=await C.getStatistics();e&&(this.statistics=e.data),this.loading.statistic=!1},milkChart(e,a,c){const i=[];Object.keys(a).forEach(b=>{let g=a[b],d=0;g.map(O=>{O.milkDetails.map(A=>{d+=A[e]})}),i.push(d)});const s={qty:"น้ำนมดิบ",amount:"รายได้"},r={qty:"#e11d48",amount:"#16a34a"},o={qty:"#db2777",amount:"#65a30d"},x={label:s[e],borderColor:r[e],borderWidth:2,borderRadius:5,borderSkipped:!0,barPercentage:.5,backgroundColor:o[e],data:i,tension:.5},f=[];return c=="year"?H().forEach(b=>{f.push(`${b}`)}):Object.keys(a).forEach(b=>{f.push(`${b}`)}),{labels:f,datasets:[x]}},foodChart(){var i;const e=[],a=[];(i=this.food)==null||i.month.map(s=>{e.push(s.sumQty),a.push(s.sumAmount)});const c=[];return H().forEach(s=>{c.push(`${s}`)}),{labels:c,datasets:[{label:"จำนวน (กก.)",borderColor:"#E83105",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#F6461C",data:e,tension:.5},{label:"ค่าอาหาร",borderColor:"#566573",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#5D6D7E",data:a,tension:.5}]}},businessAllChart(){const e=[],a=[],c=[],i=[];Object.keys(this.expenseSum.cost).forEach(o=>{e.push(this.expenseSum.cost[o])}),Object.keys(this.expenseSum.bill).forEach(o=>{a.push(this.expenseSum.bill[o])}),Object.keys(this.expenseSum.care).forEach(o=>{c.push(this.expenseSum.care[o])}),Object.keys(this.incomeSum.rawMilk).forEach(o=>{i.push(this.incomeSum.rawMilk[o])});const s=[];let r=new Set([...Object.keys(this.expenseSum.bill),...Object.keys(this.expenseSum.care),...Object.keys(this.expenseSum.cost),...Object.keys(this.incomeSum.rawMilk)]);return r=Array.from(r),Object.keys(this.incomeSum).forEach(o=>{let x=this.incomeSum[o];r.forEach(f=>{x.hasOwnProperty(f)||(x[f]=0)})}),Object.keys(this.expenseSum).forEach(o=>{let x=this.expenseSum[o];r.forEach(f=>{x.hasOwnProperty(f)||(x[f]=0)})}),Object.keys(this.expenseSum.bill).forEach(o=>{s.push(`${o}`)}),{labels:s,datasets:[{label:"ผลผลิต",data:i,borderWidth:2,weight:2,backgroundColor:"#bbf7d0",hoverOffset:4},{label:"ต้นทุน",data:e,borderWidth:2,weight:2,backgroundColor:"#d1d5db",hoverOffset:4},{label:"ค่าใช้จ่ายเพิ่มเติม",data:a,borderWidth:2,weight:2,backgroundColor:"#fca5a5",hoverOffset:4},{label:"ค่าดูแลโค",data:c,borderWidth:2,weight:2,backgroundColor:"#fcd34d",hoverOffset:4}]}},incomeChart(){const e=[];Object.keys(this.income).forEach(s=>{e.push(this.income[s])});const a={data:e,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},c={rawMilk:"น้ำนมดิบ",cowExport:"จำหน่ายโค",pasteuri:"นมพาสเจอไรซ์",dung:"มูลสัตว์",meat:"จำหน่ายเนื้อโค"},i=[];return Object.keys(this.income).forEach(s=>{i.push(`${c[s]}`)}),{labels:i,datasets:[a]}},expenseChart(e){const a=[];Object.keys(this.expense[e]).forEach(r=>{a.push(this.expense[e][r])});const c={data:a,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},i={cost:{building:"สิ่งปลูกสร้าง",equipment:"อุปกรณ์",cow:"ค่านำเข้าโค",maintenance:"ซ่อมบำรุง"},bill:{water:"ค่าน้ำ",electric:"ค่าไฟ",accom:"ค่าที่พักคนงาน",rent:"ค่าเช่า",internet:"ค่าอินเทอร์เน็ต",waste:"ค่าของเสีย",oth:"อื่นๆ"},care:{food:"ค่าอาหาร",heal:"ค่ารักษา",protection:"ค่าวัคซีน",worker:"ค่าจ้างคนงาน"}},s=[];return Object.keys(this.expense[e]).forEach(r=>{s.push(`${i[e][r]}`)}),{labels:s,datasets:[c]}},sumExpense(){var s,r,o,x,f,b;let e=0,a=0,c=0;if((s=this.expense)!=null&&s.care)for(let g of Object.keys((r=this.expense)==null?void 0:r.care)){const d=this.expense.care[g];d&&(a+=d)}if((o=this.expense)!=null&&o.cost)for(let g of Object.keys((x=this.expense)==null?void 0:x.cost)){const d=this.expense.cost[g];d&&(e+=d)}if((f=this.expense)!=null&&f.bill)for(let g of Object.keys((b=this.expense)==null?void 0:b.bill)){const d=this.expense.bill[g];d&&(c+=d)}return{total:a+e+c,care:a,cost:e,bill:c}},sumIncome(){let e=0;for(let a of Object.keys(this.income)){const c=this.income[a];c&&(e+=c)}return{total:e}},sumProfit(){const e=this.sumExpense().total,a=this.sumIncome().total;let c=a-e,i=0;return c>=0?i=c/a*100:i=c/e*100,{profit:c,percent:i}},formatDate(e){return e?D(new Date(e)).format("DD/MM/YYYY"):""}}},ut={class:"grid grid-cols-1 gap-5"},pt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},_t={key:1,class:"h-52 mt-5"},ft={key:2,class:"text-gray-500"},gt={class:"grid grid-cols-1 gap-5"},xt={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},bt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3"},yt={class:"overflow-x-auto"},kt=t("thead",null,[t("tr",null,[t("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (วัน)"),t("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/วัน (กก.)")])],-1),vt={class:"font-extrabold text-2xl"},Yt={class:"text-center"},wt={class:"text-center"},Ct={class:"text-center"},At={key:0,class:"mt-3 h-60 mb-5"},St={key:1,class:"text-gray-500"},Dt={class:"overflow-x-auto"},Et=t("thead",null,[t("tr",null,[t("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),t("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/วัน (บาท)")])],-1),Ot={class:"font-extrabold text-2xl"},jt={class:"text-center"},Mt={class:"text-center"},Bt={key:0,class:"mt-3 h-60"},qt={key:1,class:"text-gray-500"},Ft={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},Vt={class:"overflow-x-auto"},It=t("thead",null,[t("tr",null,[t("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (ปี)"),t("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)")])],-1),Qt={class:"font-extrabold text-2xl"},Pt={class:"text-center"},Tt={class:"text-center"},zt={class:"text-center"},Wt={key:0,class:"lg:h-62"},Lt={key:1,class:"text-gray-500"},Rt={class:"overflow-x-auto"},Nt=t("thead",null,[t("tr",null,[t("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),t("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/ปี (บาท)")])],-1),Ht={class:"font-extrabold text-2xl"},Ut={class:"text-center"},Gt={class:"text-center"},Jt={key:0,class:"lg:h-62"},Kt={key:1,class:"text-gray-500"},Xt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},Zt={key:1,class:"h-80 mt-5 col-span-2 mb-5"},$t={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},te={class:"grid lg:grid-cols-3 grid-cols-1 gap-5 text-center"},ee=t("p",null,"ต้นทุน",-1),se={class:"text-red-500 underline decoration-2 font-extrabold"},ae={key:0,class:"h-80"},le={key:1,class:"text-gray-500"},oe=t("p",null,"ค่าดูแลโค",-1),ie={class:"text-red-500 underline decoration-2 font-extrabold"},re={key:0,class:"h-80"},ce={key:1,class:"text-gray-500"},ne=t("p",null,"ค่าใช้จ่ายเพิ่มเติม",-1),de={class:"text-red-500 underline decoration-2 font-extrabold"},he={key:0,class:"h-80"},me={key:1,class:"text-gray-500"},ue={class:"grid grid-cols-1 gap-5 text-center"},pe=t("p",null,"ผลผลิต",-1),_e={class:"text-lime-500 underline decoration-2 font-extrabold"},fe={key:0,class:"h-80"},ge={key:1,class:"text-gray-500"},xe={class:"grid grid-cols-1 gap-5 text-center"},be=t("div",{class:"dark:text-gray-300"}," รายรับ ",-1),ye={class:"font-extrabold text-2xl"},ke=t("div",{class:"dark:text-gray-300"}," รายจ่าย ",-1),ve={class:"font-extrabold text-2xl"},Ye={class:"dark:text-gray-300"},we={class:"font-extrabold text-2xl"},Ce={class:"font-extrabold text-2xl"},Ae={class:"grid lg:grid-cols-4 grid-cols-1 gap-5"},Se={class:"grid grid-cols-2 gap-5"},De={class:"mt-1"},Ee={class:"lg:text-xl text-lg text-yellow-600 text-center"},Oe={key:0,class:"grid grid-cols-2 gap-5 mt-5"},je={class:"mt-1"},Me=t("div",{class:"text-xs text-gray-500"},"(รักษามากที่สุด)",-1),Be={class:"lg:text-xl text-lg text-yellow-600 text-center"},qe={class:"grid grid-cols-2 gap-5"},Fe={class:"mt-1"},Ve={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ie={class:"mt-1"},Qe={class:"lg:text-xl text-lg text-yellow-600 text-center"},Pe={class:"grid grid-cols-2 gap-5"},Te={class:"mt-1"},ze={class:"lg:text-xl text-lg text-yellow-600 text-center"},We={class:"mt-1"},Le=t("div",{class:"text-xs text-gray-500"},"(มากกว่า 8 เดือน)",-1),Re={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ne={class:"grid grid-cols-2 gap-5"},He={class:"mt-1"},Ue={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ge={class:"mt-1"},Je={class:"lg:text-xl text-lg text-yellow-600 text-center"};function Ke(e,a,c,i,s,r){const o=v("SectionTitleBarSub"),x=v("FormControl"),f=v("FormField"),b=v("Table"),g=v("bar-chart"),d=v("CardBox"),O=v("line-chart"),A=v("pie-chart"),Y=v("BaseIcon"),U=v("SectionMain"),G=v("LayoutAuthenticated");return m(),tt(G,null,{default:_(()=>[l(U,null,{default:_(()=>[l(o,{icon:"chartPie",title:"ภาพรวมฟาร์ม"}),t("div",ut,[l(d,{title:"การให้อาหาร (ปี พ.ศ. "+(s.foodYear+543)+")",icon:"corn",onHeaderIconClick:a[1]||(a[1]=()=>{this.foodYearSearch=!this.foodYearSearch}),"header-icon":"magnifyExpand"},{default:_(()=>[s.foodYearSearch?(m(),u("div",pt,[l(f,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[l(x,{modelValue:s.foodYear,"onUpdate:modelValue":a[0]||(a[0]=n=>s.foodYear=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):E("",!0),l(b,{title:"คอก",icon:"barn",items:s.food.corral,datas:s.foodColumns,perPage:"5",loading:s.loading.food},null,8,["items","datas","loading"]),s.chart.food.year?(m(),u("div",_t,[l(g,{data:s.chart.food.year},null,8,["data"])])):(m(),u("div",ft,"ไม่มีข้อมูล..."))]),_:1},8,["title"]),l(d,{title:"น้ำนมดิบ",icon:"water",class:"lg:p-4 md:p-4","has-table":"","header-icon":""},{default:_(()=>[t("div",gt,[l(d,{title:"รายเดือน (ปี พ.ศ. "+(s.milkYearValue+543)+")",icon:"chartBellCurveCumulative",class:"",loading:s.loading.milks,onHeaderIconClick:a[3]||(a[3]=()=>{this.milkYearSearch=!this.milkYearSearch}),"header-icon":"magnifyExpand"},{default:_(()=>[t("div",xt,[s.milkYearSearch?(m(),u("div",bt,[l(f,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[l(x,{modelValue:s.milkYearValue,"onUpdate:modelValue":a[2]||(a[2]=n=>s.milkYearValue=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):E("",!0),l(d,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:_(()=>{var n,p;return[t("div",yt,[t("table",null,[kt,t("tbody",null,[t("tr",vt,[t("td",Yt,h(s.milkYear.count),1),t("td",wt,h(e.$filters.number(s.milkYear.sumQty)),1),t("td",Ct,h(e.$filters.number(s.milkYear.avgQty)),1)])])])]),((p=(n=s.chart.milk.year.qty)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(m(),u("div",At,[l(g,{data:s.chart.milk.year.qty},null,8,["data"])])):(m(),u("div",St,"ไม่มีข้อมูล..."))]}),_:1}),l(d,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:_(()=>{var n,p;return[t("div",Dt,[t("table",null,[Et,t("tbody",null,[t("tr",Ot,[t("td",jt,h(e.$filters.currency(s.milkYear.sumAmt)),1),t("td",Mt,h(e.$filters.currency(s.milkYear.avgAmt)),1)])])])]),((p=(n=s.chart.milk.year.amt)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(m(),u("div",Bt,[l(g,{data:s.chart.milk.year.amt},null,8,["data"])])):(m(),u("div",qt,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1},8,["title","loading"]),l(d,{title:"รายปี",icon:"chartBellCurveCumulative","header-icon":""},{default:_(()=>[t("div",Ft,[l(d,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:_(()=>{var n,p;return[t("div",Vt,[t("table",null,[It,t("tbody",null,[t("tr",Qt,[t("td",Pt,h(s.milkAll.count),1),t("td",Tt,h(e.$filters.number(s.milkAll.sumQty)),1),t("td",zt,h(e.$filters.number(s.milkAll.avgQty)),1)])])])]),((p=(n=s.chart.milk.all.qty)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(m(),u("div",Wt,[l(O,{data:s.chart.milk.all.qty},null,8,["data"])])):(m(),u("div",Lt,"ไม่มีข้อมูล..."))]}),_:1}),l(d,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:_(()=>{var n,p;return[t("div",Rt,[t("table",null,[Nt,t("tbody",null,[t("tr",Ht,[t("td",Ut,h(e.$filters.currency(s.milkAll.sumAmt)),1),t("td",Gt,h(e.$filters.currency(s.milkAll.avgAmt)),1)])])])]),((p=(n=s.chart.milk.all.amt)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(m(),u("div",Jt,[l(O,{data:s.chart.milk.all.amt},null,8,["data"])])):(m(),u("div",Kt,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1})])]),_:1}),l(d,{title:"ผลประกอบการ (ปี พ.ศ. "+(s.businessYear+543)+")",icon:"cashRegister","header-icon":"magnifyExpand",onHeaderIconClick:a[5]||(a[5]=()=>{this.businessYearSearch=!this.businessYearSearch})},{default:_(()=>[s.businessYearSearch?(m(),u("div",Xt,[l(f,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:_(()=>[l(x,{modelValue:s.businessYear,"onUpdate:modelValue":a[4]||(a[4]=n=>s.businessYear=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):E("",!0),s.chart.business.all?(m(),u("div",Zt,[l(g,{data:s.chart.business.all},null,8,["data"])])):E("",!0),t("div",$t,[l(d,{title:"รายจ่าย",class:"lg:col-span-2","header-icon":""},{default:_(()=>[t("div",te,[t("div",null,[ee,t("div",se,h(e.$filters.currency(r.sumExpense().cost)),1),r.sumExpense().cost>0?(m(),u("div",ae,[l(A,{data:s.chart.expense.cost},null,8,["data"])])):(m(),u("div",le,"ไม่มีข้อมูล..."))]),t("div",null,[oe,t("div",ie,h(e.$filters.currency(r.sumExpense().care)),1),r.sumExpense().care>0?(m(),u("div",re,[l(A,{data:s.chart.expense.care},null,8,["data"])])):(m(),u("div",ce,"ไม่มีข้อมูล..."))]),t("div",null,[ne,t("div",de,h(e.$filters.currency(r.sumExpense().bill)),1),r.sumExpense().bill>0?(m(),u("div",he,[l(A,{data:s.chart.expense.bill},null,8,["data"])])):(m(),u("div",me,"ไม่มีข้อมูล..."))])])]),_:1}),l(d,{title:"รายรับ","header-icon":""},{default:_(()=>[t("div",ue,[t("div",null,[pe,t("div",_e,h(e.$filters.currency(r.sumIncome().total)),1),r.sumIncome().total>0?(m(),u("div",fe,[l(A,{data:s.chart.income},null,8,["data"])])):(m(),u("div",ge,"ไม่มีข้อมูล..."))])])]),_:1}),l(d,{title:"สรุป","header-icon":""},{default:_(()=>{var n;return[t("div",xe,[be,t("div",ye,h(e.$filters.currency(r.sumIncome().total)),1),ke,t("div",ve,h(e.$filters.currency(r.sumExpense().total)),1),t("div",Ye,h(r.sumProfit().profit>0?"กำไร":"ขาดทุน"),1),t("div",we,h(e.$filters.currency((n=r.sumProfit())==null?void 0:n.profit)),1),t("div",Ce,h(e.$filters.number(r.sumProfit().percent|0))+" % ",1)])]}),_:1})])]),_:1},8,["title"]),l(d,{icon:"poll",title:"สถิติ","header-icon":"",class:"mb-1 lg:mb-5"},{default:_(()=>[t("div",Ae,[l(d,{title:"การรักษา","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var n,p,y,k,I,Q,P,T,z,W,L,R,N;return[t("div",Se,[t("p",De,[l(Y,{class:"bg-red-900 text-rose-400 rounded-full p-1 mr-2",path:"plusThick",size:"16"}),w("ทั้งหมด ")]),t("h1",Ee,h((p=(n=s.statistics)==null?void 0:n.heal)==null?void 0:p.count),1)]),(Q=(I=(k=(y=s.statistics)==null?void 0:y.heal)==null?void 0:k.max)==null?void 0:I.cow)!=null&&Q.name?(m(),u("div",Oe,[t("p",je,[l(Y,{class:"bg-gray-700 text-white rounded-full p-1 mr-2",path:"cow",size:"16"}),w("โค"+h((W=(z=(T=(P=s.statistics)==null?void 0:P.heal)==null?void 0:T.max)==null?void 0:z.cow)==null?void 0:W.name)+" ",1),Me]),t("h1",Be,h((N=(R=(L=s.statistics)==null?void 0:L.heal)==null?void 0:R.max)==null?void 0:N.count),1)])):E("",!0)]}),_:1}),l(d,{title:"การผสมพันธุ์","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var n,p,y,k;return[t("div",qe,[t("p",Fe,[l(Y,{class:"bg-teal-900 text-green-500 rounded-full p-1 mr-2",path:"check",size:"16"}),w("สำเร็จ ")]),t("h1",Ve,h((p=(n=s.statistics)==null?void 0:n.reproduction)==null?void 0:p.success),1),t("p",Ie,[l(Y,{class:"bg-red-900 text-rose-500 rounded-full p-1 mr-2",path:"close",size:"16"}),w("ล้มเหลว ")]),t("h1",Qe,h((k=(y=s.statistics)==null?void 0:y.reproduction)==null?void 0:k.fail),1)])]}),_:1}),l(d,{title:"การตั้งครรภ์","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var n,p,y,k;return[t("div",Pe,[t("p",Te,[l(Y,{class:"bg-black text-gray-300 rounded-full p-1 mr-2",path:"emoticonCryOutline",size:"16"}),w(" แท้ง ")]),t("h1",ze,h((p=(n=s.statistics)==null?void 0:n.pregnant)==null?void 0:p.abort),1),t("p",We,[l(Y,{class:"bg-orange-900 text-yellow-500 rounded-full p-1 mr-2",path:"calendarClock",size:"16"}),w(" ใกล้คลอด "),Le]),t("h1",Re,h((k=(y=s.statistics)==null?void 0:y.pregnant)==null?void 0:k.nearBirth),1)])]}),_:1}),l(d,{title:"การคลอด","header-icon":"",class:"dark:border-gray-800 border"},{default:_(()=>{var n,p,y,k;return[t("div",Ne,[t("p",He,[l(Y,{class:"bg-indigo-900 text-white rounded-full p-1 mr-2",path:"genderMale",size:"16"}),w("เพศผู้ ")]),t("h1",Ue,h((p=(n=s.statistics)==null?void 0:n.born)==null?void 0:p.male),1),t("p",Ge,[l(Y,{class:"bg-rose-900 text-white rounded-full p-1 mr-2",path:"genderFemale",size:"16"}),w("เพศเมีย ")]),t("h1",Je,h((k=(y=s.statistics)==null?void 0:y.born)==null?void 0:k.female),1)])]}),_:1})])]),_:1})])]),_:1})]),_:1})}const ds=$(mt,[["render",Ke]]);export{ds as default};
