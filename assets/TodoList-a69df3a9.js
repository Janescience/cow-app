import{c as T,_ as S,a as Y}from"./BaseDivider-dfbedae5.js";import{_ as j}from"./SectionTitleBar-1dbb80c4.js";import{_ as w}from"./SectionTitleBarSub-41342394.js";import{_ as O}from"./LayoutAuthenticated-36b903b7.js";import{T as M}from"./Table-0fd5f2eb.js";import{D as x}from"./dashboard-d0ac44ce.js";import{v as E,y as F,x as v,c as N,w as u,z as m,o as e,d,j as V,s,F as r,D as a,f,n as _,t as g,g as p}from"./index-039a43b4.js";import"./UserAvatar-53e67a05.js";import"./CardBoxModal-ded57ce9.js";import"./FormControl-8a29cb33.js";const A={data(){return{lineChartColors:{primary:"#00D1B2",danger:"#FF3860"},events:[],todolist:{setting:{},important:{},dairy:{},monthly:{},notification:{}},eventColumns:[{label:"หัวข้อ",value:"title"},{label:"โค",value:"cow"},{label:"วันที่",value:"date",type:"date",class:"text-center"}],loading:{events:!0,todolist:!0}}},components:{SectionMain:T,SectionTitleBar:j,CardBox:S,SectionTitleBarSub:w,LayoutAuthenticated:O,BaseDivider:Y,Table:M},computed:{user(){return this.$store.state.auth.user}},created(){this.getTodoList(),this.getEvents()},methods:{async getTodoList(){this.loading.todolist=!0;const c=await x.getTodoList();c&&(this.todolist=c.data),this.loading.todolist=!1},async getEvents(){this.loading.events=!0;const c=await x.getEvents();if(c){this.events=F.orderBy(c.data,"date");const b=v().format("DD/MM/YYYY");let y=[];for(let k of this.events)b===v(k.date).format("DD/MM/YYYY")&&y.push("โคครบกำหนดวันนี้");this.todolist.event=y}this.loading.events=!1},formatDate(c){return c?v(new Date(c)).format("DD/MM/YYYY"):""}}},z={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-5 gap-1 mb-1 lg:mb-5"},P={key:0,class:"mb-5"},q=["href"],G={key:0,class:"mb-5"},H=["href"],I={key:0,class:"mb-5"},J=["href"],K={key:0,class:"mb-5"},Q=["href"],R={key:0,class:"mb-5"},U=["href"];function W(c,b,y,k,t,X){const C=m("SectionTitleBarSub"),h=m("CardBox"),B=m("Table"),D=m("SectionMain"),L=m("LayoutAuthenticated");return e(),N(L,null,{default:u(()=>[d(D,null,{default:u(()=>[d(C,{icon:"chartPie",title:"กิจกรรมต่างๆที่ต้องทำ"}),V("div",z,[d(h,{icon:"formatListChecks",title:"ตั้งค่าเริ่มต้น","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:u(()=>{var i,n;return[Object.keys((i=t.todolist)==null?void 0:i.setting).length>0?(e(),s("div",P,[(e(!0),s(r,null,a(Object.keys((n=t.todolist)==null?void 0:n.setting),o=>(e(),s("div",{class:"p-2",key:t.todolist.setting[o]},[f(" - "),(e(!0),s(r,null,a(t.todolist.setting[o],l=>(e(),s("a",{key:l,href:l.href,class:_(l.href?"text-blue-500 underline":"")},g(l.text),11,q))),128))]))),128))])):p("",!0)]}),_:1},8,["loading"]),d(h,{icon:"formatListChecks",title:"ข้อมูลที่ควรบันทึก","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:u(()=>{var i,n;return[Object.keys((i=t.todolist)==null?void 0:i.important).length>0?(e(),s("div",G,[(e(!0),s(r,null,a(Object.keys((n=t.todolist)==null?void 0:n.important),o=>(e(),s("div",{class:"p-2",key:t.todolist.important[o]},[f(" - "),(e(!0),s(r,null,a(t.todolist.important[o],l=>(e(),s("a",{key:l,href:l.href,class:_(l.href?"text-blue-500 underline":l.remark?"text-gray-500 text-xs":"")},g(l.text),11,H))),128))]))),128))])):p("",!0)]}),_:1},8,["loading"]),d(h,{icon:"formatListChecks",title:"รายวัน","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:u(()=>{var i;return[Object.keys(t.todolist.dairy).length>0?(e(),s("div",I,[(e(!0),s(r,null,a(Object.keys((i=t.todolist)==null?void 0:i.dairy),n=>(e(),s("div",{class:"p-2",key:t.todolist.dairy[n]},[f(" - "),(e(!0),s(r,null,a(t.todolist.dairy[n],o=>(e(),s("a",{key:o,href:o.href,class:_(o.href?"text-blue-500 underline":"")},g(o.text),11,J))),128))]))),128))])):p("",!0)]}),_:1},8,["loading"]),d(h,{icon:"formatListChecks",title:"รายเดือน","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:u(()=>{var i;return[Object.keys(t.todolist.monthly).length>0?(e(),s("div",K,[(e(!0),s(r,null,a(Object.keys((i=t.todolist)==null?void 0:i.monthly),n=>(e(),s("div",{class:"p-2",key:t.todolist.monthly[n]},[f(" - "),(e(!0),s(r,null,a(t.todolist.monthly[n],o=>(e(),s("a",{key:o,href:o.href,class:_(o.href?"text-blue-500 underline":"")},g(o.text),11,Q))),128))]))),128))])):p("",!0)]}),_:1},8,["loading"]),d(h,{icon:"formatListChecks",title:"ครบกำหนดวันนี้","header-icon":"",class:"row-span-2",loading:t.loading.todolist},{default:u(()=>{var i;return[Object.keys(t.todolist.notification).length>0?(e(),s("div",R,[(e(!0),s(r,null,a(Object.keys((i=t.todolist)==null?void 0:i.notification),n=>(e(),s("div",{class:"p-2",key:t.todolist.notification[n]},[f(" - "),(e(!0),s(r,null,a(t.todolist.notification[n],o=>(e(),s("a",{key:o,href:o.href,class:_(o.href?"text-blue-500 underline":"")},g(o.text),11,U))),128))]))),128))])):p("",!0)]}),_:1},8,["loading"]),d(B,{title:"กำหนดการแจ้งเตือน",icon:"calendarBadgeOutline",items:t.events,datas:t.eventColumns,perPage:"5",loading:t.loading.events},null,8,["items","datas","loading"])])]),_:1})]),_:1})}const at=E(A,[["render",W]]);export{at as default};
