import{_ as H}from"./LayoutAuthenticated-96665147.js";import{c as K,b as W,d as G,_ as J,a as X}from"./BaseDivider-9edf4e01.js";import{v as Z,h as j,_ as $,y as B,x as M,c as b,w as n,z as y,o as _,d as o,j as t,f as x,n as R,t as i,g as D}from"./index-ae395474.js";import{_ as ee}from"./UserAvatar-64ee2716.js";import{_ as te}from"./CardBoxCollapse-693e8138.js";import{_ as le}from"./FormField-09d99245.js";import{_ as ae}from"./FormControl-6725e5f0.js";import{I as se}from"./ImageUpload-45caa0f1.js";import{T as oe}from"./Table-2f3f3207.js";import{D as re}from"./Corral-26e6d49e.js";import{C as I}from"./cow-e7aeb5ac.js";import{M as ie}from"./milking-e4892683.js";import{R as ne}from"./reproduction-aee304f2.js";import{s as ce,o as de,B as ue}from"./birth-cf227f3d.js";import{H as he}from"./heal-bd70bdf9.js";import{P as me}from"./protection-9cd3c954.js";import{F as ge}from"./food-a541e774.js";import{N as fe}from"./notification-3388ac8b.js";import{g as pe}from"./age-calculate-d72a3186.js";import{T as E}from"./alert-019710c2.js";import{s as we,q as be}from"./cow-4774ff96.js";import{r as N,a as _e}from"./reproduct-6d4af9c3.js";import"./CardBoxModal-083dba37.js";const ye={data(){return{cow:{},quality:{},milks:[],milkDetails:[],historyMilks:[],reproducts:[],births:[],heals:[],protections:[],foods:[],notifications:[],loading:{cow:!0,milk:!0,reproduct:!0,birth:!0,heal:!0,protection:!0,food:!0,notification:!0},alert:"",newCow:!1,status:we("create"),sex:[{id:"M",label:"ตัวผู้"},{id:"F",label:"ตัวเมีย"}],qualityMilk:be("create"),milkDatas:[{label:"วันที่รีดนม",class:"text-center",type:"date",value:"date"},{label:"เช้า (กก.)",class:"text-center",value:"mQty",type:"number"},{label:"บ่าย (กก.)",class:"text-center",value:"aQty",type:"number"},{label:"รวม (กก.)",class:"text-center",func:e=>(e.mQty+e.aQty).toFixed(2)},{label:"คิดเป็นเงิน",class:"text-right",type:"currency",value:"amount"}],reproductDatas:[{label:"ครั้งที่",class:"text-center",value:"seq"},{label:"วันที่เข้าระบบสืบพันธุ์",class:"text-center",value:"loginDate",type:"date"},{label:"ผล",func:e=>N()[e.result].label},{label:"วันที่เป็นสัด",class:"text-center",value:"estrusDate",type:"date"},{label:"วันที่ผสมพันธุ์",class:"text-center",value:"matingDate",type:"date"},{label:"วันที่ตรวจท้อง",class:"text-center",value:"checkDate",type:"date"},{label:"พ่อพันธุ์",value:"dad"},{label:"สถานะ",func:e=>_e()[e.status].label},{label:"วิธีรักษา",value:"howTo"}],birthDatas:[{label:"ครั้งที่",value:"seq",class:"text-center"},{label:"วันที่ตั้งครรภ์",class:"text-center",value:"pregnantDate",type:"date"},{label:"อายุครรภ์",func:e=>this.calAge(e==null?void 0:e.pregnantDate)},{label:"วันที่คลอด",class:"text-center",value:"birthDate",type:"date"},{label:"เพศ",class:"text-center",func:e=>ce()[e.sex]},{label:"ลูกวัว",class:"text-center",func:e=>{var a,c;return e.calf?((a=e.calf)==null?void 0:a.code)+" : "+((c=e.calf)==null?void 0:c.name):""}},{label:"รกค้าง",class:"text-center",func:e=>de()[e.overgrown]},{label:"วันที่ใช้ยาขับ",class:"text-center",value:"drugDate",type:"date"},{label:"วันที่ล้างมดลูก",class:"text-center",value:"washDate",type:"date"}],protectionDatas:[{label:"ยา/วัคซีน",value:"vaccine.name"},{label:"ครั้งที่",class:"text-center",value:"seq"},{label:"ให้ยาล่าสุด",class:"text-center",value:"vaccine.currentDate",type:"date"},{label:"จำนวนเงิน",class:"text-right",value:"amount",type:"currency"},{label:"ให้ยาครั้งต่อไป",class:"text-center",value:"vaccine.nextDate",type:"date"}],notificationDatas:[{label:"รายการ",value:"name"},{label:"ก่อน",class:"text-center",value:"before"},{label:"มีผล",class:"text-center",value:"date"},{label:"หลัง",class:"text-center",value:"after"},{label:"แจ้งเตือน",class:"text-center",style:"classIcon",value:"alert",type:"icon"}],healDatas:[{label:"ครั้งที่",value:"seq",class:"text-center"},{label:"วันที่รักษา",class:"text-center",value:"date",type:"date"},{label:"อาการ/โรค",class:"text-center",value:"disease"},{label:"วิธีการรักษา",class:"text-center",value:"method"},{label:"คนรักษา",class:"text-center",value:"healer"},{label:"ค่ารักษา",class:"text-center",value:"amount"}],foodDatas:[{label:"ปี",value:"year"},{label:"เดือน",value:"month"},{label:"เฉลี่ยกิน/วัน (กก.)",class:"text-center",value:"qty",func:e=>(e.foodDetails.reduce((c,d)=>c+d.qty,0)/e.numCow).toFixed(2)},{label:"คิดเป็นเงิน/วัน",class:"text-right",value:"amount",func:e=>(e.foodDetails.reduce((c,d)=>c+d.amount,0)/e.numCow).toFixed(2)},{label:"เฉลี่ยกิน/เดือน (กก.)",class:"text-center",value:"qty",func:e=>{const a=new Date(e.year,e.month,0).getDate();return(e.foodDetails.reduce((d,l)=>d+l.qty,0)*a/e.numCow).toFixed(2)}},{label:"คิดเป็นเงิน/เดือน",class:"text-right",value:"amount",func:e=>{const a=new Date(e.year,e.month,0).getDate();return(e.foodDetails.reduce((d,l)=>d+l.amount,0)*a/e.numCow).toFixed(2)}}]}},components:{SectionMain:K,LayoutAuthenticated:H,BaseButton:W,BaseIcon:G,BaseButtons:j,CardBox:J,FormControl:ae,FormField:le,UserAvatar:ee,BaseLevel:$,ImageUpload:se,Table:oe,CardBoxCollapse:te,BaseDivider:X,DDLCorral:re},computed:{canRemove(){return this.milks.length==0&&this.reproducts.length==0&&this.births.length==0},user(){return this.$store.state.auth.user},milk(){let e=0,a=0,c=0,d=0;this.historyMilks=[],Object.keys(this.milks).forEach(v=>{let C=this.milks[v],h={},m=0,u=0,g=0;C.map(f=>{f.milkDetails.map(k=>{f.time==="M"?(a+=k.qty,m+=k.qty):(c+=k.qty,u+=k.qty),g+=k.amount,d+=k.amount}),f.milkDetails.length>0&&(e+=f.milkDetails.length,h.date=f.date,h.mQty=m,h.aQty=u,h.amount=g)}),Object.keys(h).length!==0&&this.historyMilks.push(h)}),this.historyMilks=B.orderBy(this.historyMilks,"date","desc");let l=(a+c)/e,s=a/e,p=c/e;return{avgTotal:e>0?l:0,avgMorning:e>0?s:0,avgAfternoon:e>0?p:0,all:a+c,amount:d}}},created(){const e=this.$route.params.id;this.getCowData(e)},methods:{async getCow(e){this.loading.cow=!0;const a=await I.get(e);a.data&&(this.cow=a.data.cow,this.cow.birthDate=new Date(this.cow.birthDate),this.cow.adopDate=new Date(this.cow.adopDate),this.loading.cow=!1)},async getCowData(e){this.loading.cow=!0;const a=await I.get(e);if(a.data){this.cow=a.data.cow,this.quality=a.data.quality,this.cow.birthDate=new Date(this.cow.birthDate),this.cow.adopDate=new Date(this.cow.adopDate),this.loading.cow=!1,this.loading.reproduct=!0;const c=await ne.all({cow:e});c.data&&(this.reproducts=c.data.reproducts),this.loading.reproduct=!1,this.loading.birth=!0;const d=await ue.all({cow:e,status:"B"});d&&(this.births=d.data.births),this.loading.birth=!1,this.loading.heal=!0;const l=await he.all({cow:e});l&&(this.heals=l.data.heals),this.loading.heal=!1,this.loading.protection=!0;const s=await me.all({cows:e});if(s){const h=B.groupBy(s.data.protections,"vaccine._id");for(let m of Object.keys(h)){const u=h[m],g=B.orderBy(u,"seq","desc");g.length>0&&this.protections.push(g[0])}}this.loading.protection=!1,this.loading.food=!0;const p=await ge.all({corral:this.cow.corral});p&&(this.foods=p.data.foods),this.loading.food=!1,this.loading.milk=!0;const v=await ie.get({cow:e});if(v.data){for(let h of v.data.milks)h.groupKey=M(h.date,"YYYY-MM-DD").format("YYYYMMDD");this.milks=B.groupBy(v.data.milks,"groupKey")}this.loading.milk=!1,this.loading.notification=!0;const C=await fe.getCalendar({cow:e});if(C.data){const h=B.groupBy(C.data.events,"code"),m=M(new Date).startOf("day");let u=[];for(let g of Object.keys(h)){const f=h[g];let k="",V=null,P=null,z=null,q=null;for(let r of f)r.period=="today"?(k=r.name,V=M(r.time.start).format("DD/MM/YYYY"),q=M(r.time.start).startOf("day")):r.period=="before"?P=M(r.time.start).format("DD/MM/YYYY"):r.period=="after"&&(z=M(r.time.start).format("DD/MM/YYYY"));u.push({name:k,date:V,dueDate:q,before:P,after:z,classIcon:m.isAfter(q)?"bg-teal-900 text-green-500 rounded-full p-1":"bg-red-900 text-rose-400 rounded-full p-1",alert:m.isAfter(q)?"bellCheckOutline":"bellAlertOutline"})}this.notifications=B.orderBy(u,"dueDate","desc")}this.loading.notification=!1}},getFile(e){this.cow.file=e},async update(){this.loading.cow=!0,this.alert="";try{await I.update(this.cow._id,this.cow)&&(await I.upload(this.cow),this.getCow(this.$route.params.id),E.fire({icon:"success",title:"บันทึกข้อมูลสำเร็จ"}))}catch(e){console.error("Error : ",e),this.loading=!1,this.alert=e.response.data.message,E.fire({icon:"error",title:"บันทึกข้อมูลไม่สำเร็จ"})}},async remove(){this.loading.cow=!0,this.alert="";try{await I.delete(this.cow._id)&&(E.fire({icon:"success",title:"ลบข้อมูลสำเร็จ"}),this.$router.push("/manage/cow"))}catch(e){console.error("Error : ",e),this.loading=!1,this.alert=e.response.data.message,E.fire({icon:"error",title:"ลบข้อมูลไม่สำเร็จ"})}},reproduct(){let e=M(),a=this.reproducts.length>0?this.reproducts.length:"-",c=this.reproducts.length>0?this.formatDate(this.reproducts[0].loginDate):"-",d=this.reproducts.length>0?N()[this.reproducts[0].result].label:"-",l=0,s=0,p=0,v="-",C="-",h="-";for(let m of this.reproducts)m.estrusDate!=null&&M(m.estrusDate)<=e&&(l++,v=this.formatDate(m.estrusDate)),m.matingDate!=null&&M(m.matingDate)<=e&&(s++,C=this.formatDate(m.matingDate)),m.checkDate!=null&&M(m.checkDate)<=e&&(p++,h=this.formatDate(m.checkDate));return{login:{count:a,lastDate:c,result:d},estrus:{count:l>0?l:"-",lastDate:v},mating:{count:s>0?s:"-",lastDate:C},check:{count:p>0?p:"-",lastDate:h}}},birth(){return{count:this.births.length>0?this.births.length:"-",lastDate:this.births.length>0?this.formatDate(this.births[0].birthDate):"-",countMale:this.births.length>0?this.births.filter(e=>e.sex==="M").length:"-",countFemale:this.births.length>0?this.births.filter(e=>e.sex==="F").length:"-"}},heal(){let e=this.heals.length>0?this.heals.length:"-",a=this.heals.length>0?this.formatDate(this.heals[0].date):"-",c=this.heals.length>0?this.heals[0].disease:"-",d=this.heals.length>0&&this.heals[0].method?this.heals[0].method:"-";return{count:e,lastDate:a,lastDisease:c,lastMethod:d}},food(){const e={qty:0,amount:0};for(let a of this.foods){const c=new Date(a.year,a.month,0).getDate();e.qty+=a.foodDetails.reduce((d,l)=>d+l.qty,0)*c/a.numCow,e.amount+=a.foodDetails.reduce((d,l)=>d+l.amount,0)*c/a.numCow}return{sum:e}},filterColor(){var a;const e=(a=this.quality)==null?void 0:a.grade;if(e==="A+")return{grade:"text-lime-500 p-1 ",profit:"bg-green-900 text-lime-500"};if(e==="A")return{grade:"text-green-500 ",profit:"bg-teal-900 text-green-500"};if(e==="B")return{grade:"p-1 ",profit:"bg-gray-600 text-white"};if(e==="C")return{grade:"text-orange-500 p-1",profit:"bg-orange-900 text-yellow-500"};if(e==="D")return{grade:"text-red-500 p-1 ",profit:"bg-rose-300 text-red-700 font-bold"}},filterText(){var a;const e=(a=this.quality)==null?void 0:a.grade;if(e==="A+")return{percent:"*กำไร > 80%"};if(e==="A")return{percent:"*กำไร 51% - 80%"};if(e==="B")return{percent:"*กำไร 31% - 50%"};if(e==="C")return{percent:"*กำไร 0% - 30%"};if(e==="D")return{percent:"*กำไร <= 0%"}},formatDate(e){return e?M(new Date(e)).format("DD/MM/YYYY"):""},calAge(e){return pe(e).ageString},filter(e){var c;const a={};return e.status==1?(a.icon="humanPregnant",a.style="text-blue-500 bg-indigo-900 rounded-full  p-1 mr-1"):e.status==2?(a.icon="waterOff",a.style="text-rose-500 bg-red-900 rounded-full p-1 mr-1"):e.status==3?(a.icon="water",a.style="text-white bg-teal-700 rounded-full p-1 mr-1"):e.status==4&&(a.icon="babyFaceOutline",a.style="text-yellow-400 bg-amber-900 rounded-full mr-1"),a.desc=(c=this.status.filter(d=>d.id===e.status)[0])==null?void 0:c.label,a}}},xe={class:"px-4 sm:px-0 mb-4 flex items-center justify-between"},De={class:"flex items-center justify-start"},ve=t("h1",{class:"text-base lg:text-2xl"},"รายละเอียดโค",-1),ke={class:"grid grid-cols-1 grap-5"},Me={class:"grid grid-cols-2 gap-5 mt-3 mb-3 text-center"},Ce={class:"border dark:border-gray-800 border-gray-100 rounded-lg p-2 shadow"},Ve={class:"border dark:border-gray-800 border-gray-100 rounded-lg p-2 shadow"},qe={class:"grid grid-cols-2 gap-5"},Be=t("div",{class:"text-center font-bold text-base"},"เกรด/ความคุ้มค่า",-1),Fe={class:"grid grid-cols-3 gap-5"},Ae={class:"row-span-3 col-span-2 text-center mt-4"},Ye={class:"p-2"},Oe={class:"text-gray-500 text-xs"},Te={class:"grid grid-cols-2"},Ue=t("div",{class:"dark:text-gray-300"}," รายได้ ",-1),Se={class:"font-bold text-lg text-green-500 text-center"},Qe=t("div",{class:"dark:text-gray-300"}," ค่าใช้จ่าย ",-1),Le={class:"font-bold text-lg text-red-500 text-center"},Re={class:"dark:text-gray-300"},Ie={class:"font-bold text-lg text-center"},Pe={class:"grid gap-5 grid-cols-2 lg:grid-cols-4 md:grid-cols-6"},ze={class:"overflow-x-auto"},Ee=t("thead",null,[t("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/วัน (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"เฉลี่ยเช้า/วัน (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"เฉลี่ยบ่าย/วัน (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"รวมน้ำนมทั้งหมด (กก.)"),t("th",{class:"whitespace-nowrap text-center"},"รวมเป็นเงินทั้งหมด")],-1),Ne={class:"whitespace-nowrap text-center font-extrabold"},He={class:"whitespace-nowrap text-center font-extrabold"},Ke={class:"whitespace-nowrap text-center font-extrabold"},We={class:"whitespace-nowrap text-center font-extrabold"},Ge={class:"whitespace-nowrap text-center font-extrabold"},Je={class:"grid grid-cols-1 gap-5 lg:p-4"},Xe={class:"ml-1 mr-1 underline decoration-2 font-extrabold"},Ze={class:"ml-1 mr-1 underline decoration-2 font-extrabold"},je={class:"grid lg:grid-cols-2 grid-cols-1 gap-5 lg:p-4"},$e=t("td",null,"จำนวนครั้ง",-1),et=t("td",null,"วันที่ล่าสุด",-1),tt=t("td",null,"จำนวนเพศผู้",-1),lt=t("td",null,"จำนวนเพศเมีย",-1),at=t("td",{class:"whitespace-nowrap"},"จำนวนครั้ง",-1),st=t("td",{class:"whitespace-nowrap"},"วันที่ล่าสุด",-1),ot={class:"whitespace-nowrap"},rt=t("td",{class:"whitespace-nowrap"},"อาการ/โรค",-1),it={class:"whitespace-nowrap"},nt=t("td",{class:"whitespace-nowrap"},"วิธีการรักษา",-1),ct={class:"whitespace-nowrap"},dt={class:"overflow-x-auto"},ut=t("thead",null,[t("th",{class:"whitespace-nowrap"},"รายการ"),t("th",{class:"whitespace-nowrap"},"จำนวนครั้ง"),t("th",{class:"whitespace-nowrap"},"วันที่ล่าสุด"),t("th",{class:"whitespace-nowrap"},"ผลล่าสุด")],-1),ht=t("td",{class:"whitespace-nowrap"},"เข้าระบบสืบพันธุ์",-1),mt=t("td",{class:"whitespace-nowrap"},"เป็นสัด",-1),gt=t("td",null,null,-1),ft=t("td",{class:"whitespace-nowrap"},"ผสม",-1),pt=t("td",null,null,-1),wt=t("td",{class:"whitespace-nowrap"},"ตรวจท้อง",-1),bt=t("td",null,null,-1),_t={class:"lg:col-span-2"},yt={class:"grid grid-cols-1 gap-5 lg:p-4"},xt={class:"grid grid-cols-1 gap-5 lg:p-4"};function Dt(e,a,c,d,l,s){const p=y("BaseIcon"),v=y("BaseButton"),C=y("BaseButtons"),h=y("ImageUpload"),m=y("BaseLevel"),u=y("FormField"),g=y("CardBox"),f=y("FormControl"),k=y("DDLCorral"),V=y("Table"),P=y("di"),z=y("SectionMain"),q=y("LayoutAuthenticated");return _(),b(q,null,{default:n(()=>[o(z,{class:"text-sm lg:text-base"},{default:n(()=>[t("section",xe,[t("div",De,[o(p,{path:"cow",size:"30",class:"mr-3"}),ve]),o(C,{class:"text-sm lg:text-base",type:"justify-end"},{default:n(()=>[o(v,{label:"ย้อนกลับ",color:"light",small:"",onClick:a[0]||(a[0]=r=>this.$router.push("/manage/cow"))})]),_:1})]),t("div",{class:R(l.cow.sex=="F"?"grid lg:grid-cols-3 grid-cols-1 gap-5":"grid lg:grid-cols-2 grid-cols-1 gap-5")},[l.cow.sex!="M"?(_(),b(g,{key:0,icon:"cow",title:"ข้อมูลโค",class:"mb-5","header-icon":""},{default:n(()=>{var r,F,A;return[t("div",ke,[o(h,{modelValue:l.cow.image,"onUpdate:modelValue":a[1]||(a[1]=w=>l.cow.image=w),class:"mr-2",onFile:s.getFile},null,8,["modelValue","onFile"]),o(m,{type:"justify-center text-xs font-thin text-slate-500"},{default:n(()=>[x(" อัพโหลดรูปภาพ (คลิกที่รูป) ")]),_:1})]),t("div",Me,[t("div",Ce,[o(p,{class:R((r=s.filter(l.cow))==null?void 0:r.style),path:(F=s.filter(l.cow))==null?void 0:F.icon,w:"w-4 lg:w-6",h:"h-4 lg:h-6"},null,8,["class","path"]),x(" "+i((A=s.filter(l.cow))==null?void 0:A.desc),1)]),t("div",Ve,[o(p,{class:"text-rose-600 bg-red-300 rounded-full p-1 mr-1",w:"w-4 lg:w-6",h:"h-4 lg:h-6",path:"genderFemale"}),x(" "+i(l.cow.sex=="F"?"ตัวเมีย":"ตัวผู้"),1)])]),t("div",qe,[o(u,{label:"อายุ"},{default:n(()=>{var w;return[x(i(s.calAge((w=l.cow)==null?void 0:w.birthDate)),1)]}),_:1}),o(u,{label:"เลี้ยง"},{default:n(()=>{var w;return[x(i(s.calAge((w=l.cow)==null?void 0:w.adopDate)),1)]}),_:1})]),o(g,{class:"text-sm",title:"","header-icon":"",icon:"trophyVariantOutline"},{default:n(()=>{var w,Y,O,T,U,S,Q,L;return[Be,t("div",Fe,[t("p",{class:R(((w=s.filterColor())==null?void 0:w.grade)+"  text-center text-7xl font-extrabold mt-5")},i((Y=l.quality)==null?void 0:Y.grade),3),t("div",Ae,[t("p",{class:R(((O=s.filterColor())==null?void 0:O.grade)+" text-xl font-extrabold")},i(e.$filters.number((U=(T=l.quality)==null?void 0:T.profit)==null?void 0:U.percent))+"%",3),t("p",Ye,[x("ผลผลิตอยู่ในเกณฑ์ "),t("p",{class:R((S=s.filterColor())==null?void 0:S.grade)},i((Q=l.quality)==null?void 0:Q.description),3)]),t("p",Oe,i((L=s.filterText())==null?void 0:L.percent),1)])])]}),_:1}),o(g,{title:"","header-icon":"",class:"mt-5"},{default:n(()=>{var w,Y,O,T,U,S,Q,L;return[t("div",Te,[Ue,t("div",Se,i(e.$filters.currency((Y=(w=l.quality)==null?void 0:w.income)==null?void 0:Y.sum)),1),Qe,t("div",Le,i(e.$filters.currency((T=(O=l.quality)==null?void 0:O.expense)==null?void 0:T.sum)),1),t("div",Re,i(((S=(U=l.quality)==null?void 0:U.profit)==null?void 0:S.amount)>0?"กำไร":"ขาดทุน"),1),t("div",Ie,i(e.$filters.currency((L=(Q=l.quality)==null?void 0:Q.profit)==null?void 0:L.amount)),1)])]}),_:1})]}),_:1})):D("",!0),o(g,{class:"lg:col-span-2 lg:mb-5",loading:l.loading.cow,title:"รายละเอียดโค","header-icon":"",icon:"cardTextOutline"},{default:n(()=>[t("div",Pe,[o(u,{label:"รหัสโค",help:"* ห้ามว่าง"},{default:n(()=>[o(f,{modelValue:l.cow.code,"onUpdate:modelValue":a[2]||(a[2]=r=>l.cow.code=r),icon:"barcode",required:""},null,8,["modelValue"])]),_:1}),o(u,{label:"ชื่อโค",help:"* ห้ามว่าง"},{default:n(()=>[o(f,{modelValue:l.cow.name,"onUpdate:modelValue":a[3]||(a[3]=r=>l.cow.name=r),icon:"cow",required:""},null,8,["modelValue"])]),_:1}),o(u,{label:"น้ำหนัก (กก.)"},{default:n(()=>[o(f,{modelValue:l.cow.weight,"onUpdate:modelValue":a[4]||(a[4]=r=>l.cow.weight=r),icon:"weight"},null,8,["modelValue"])]),_:1}),o(u,{label:"ราคานำเข้า (บาท)"},{default:n(()=>[o(f,{modelValue:l.cow.amount,"onUpdate:modelValue":a[5]||(a[5]=r=>l.cow.amount=r),icon:"cash"},null,8,["modelValue"])]),_:1}),o(u,{label:"วันเกิด",help:"* ห้ามว่าง"},{default:n(()=>[o(f,{modelValue:l.cow.birthDate,"onUpdate:modelValue":a[6]||(a[6]=r=>l.cow.birthDate=r),icon:"calendar",type:"date",required:""},null,8,["modelValue"])]),_:1}),o(u,{label:"วันที่นำเข้าฟาร์ม",help:"* ห้ามว่าง"},{default:n(()=>[o(f,{modelValue:l.cow.adopDate,"onUpdate:modelValue":a[7]||(a[7]=r=>l.cow.adopDate=r),icon:"calendar",type:"date",required:""},null,8,["modelValue"])]),_:1}),l.cow.sex!="M"?(_(),b(u,{key:0,label:"คุณภาพน้ำนม"},{default:n(()=>[o(f,{modelValue:l.cow.quality,"onUpdate:modelValue":a[8]||(a[8]=r=>l.cow.quality=r),options:l.qualityMilk,icon:""},null,8,["modelValue","options"])]),_:1})):D("",!0),o(u,{label:"คอก",help:"* การย้ายคอก มีผลต่อการคำนวณความคุ้มค่า"},{default:n(()=>[o(k,{modelValue:l.cow.corral,"onUpdate:modelValue":a[9]||(a[9]=r=>l.cow.corral=r),icon:"barn"},null,8,["modelValue"])]),_:1}),o(u,{label:"พ่อพันธุ์"},{default:n(()=>[o(f,{modelValue:l.cow.dad,"onUpdate:modelValue":a[10]||(a[10]=r=>l.cow.dad=r),icon:"genderMale"},null,8,["modelValue"])]),_:1}),o(u,{label:"แม่พันธุ์"},{default:n(()=>[o(f,{modelValue:l.cow.mom,"onUpdate:modelValue":a[11]||(a[11]=r=>l.cow.mom=r),icon:"genderFemale"},null,8,["modelValue"])]),_:1}),o(u,{label:"รายละเอียดเพิ่มเติม",class:"md:col-span-4 col-span-2"},{default:n(()=>[o(f,{modelValue:l.cow.remark,"onUpdate:modelValue":a[12]||(a[12]=r=>l.cow.remark=r),type:"textarea"},null,8,["modelValue"])]),_:1}),o(m,{type:"justify-center",class:"md:col-span-4 col-span-2"},{default:n(()=>[o(C,{class:"mt-5"},{default:n(()=>[o(v,{label:"ลบ",color:"danger",onClick:a[13]||(a[13]=r=>s.remove()),small:""}),o(v,{label:"บันทึก",color:"success",onClick:a[14]||(a[14]=r=>s.update()),small:""})]),_:1})]),_:1})])]),_:1},8,["loading"])],2),l.cow.sex!="M"?(_(),b(g,{key:0,icon:"cupWater",loading:l.loading.milk,title:"ข้อมูลน้ำนมดิบ",class:"mb-5","header-icon":""},{default:n(()=>[t("div",ze,[t("table",null,[Ee,t("tbody",null,[t("tr",null,[t("td",Ne,[o(p,{path:"water",size:"16",class:"text-white bg-green-900 rounded-full mr-1"}),x(" ~ "+i(e.$filters.number(s.milk.avgTotal)),1)]),t("td",He,[o(p,{path:"clockTimeEightOutline",size:"16",class:"text-yellow-500 bg-orange-900 rounded-full mr-1"}),x(" ~ "+i(e.$filters.number(s.milk.avgMorning)),1)]),t("td",Ke,[o(p,{path:"clockTimeThreeOutline",size:"16",class:"text-orange-500 bg-red-900 rounded-full mr-1"}),x(" ~ "+i(e.$filters.number(s.milk.avgAfternoon)),1)]),t("td",We,[o(p,{path:"cupWater",size:"16",class:"text-white bg-black rounded-full mr-1"}),x(" "+i(e.$filters.number(s.milk.all)),1)]),t("td",Ge,[o(p,{path:"cash",size:"16",class:"text-teal-500 bg-green-900 rounded-full mr-1"}),x(" "+i(e.$filters.currency(s.milk.amount)),1)])])])])])]),_:1},8,["loading"])):D("",!0),l.foods.length>0?(_(),b(g,{key:1,icon:"foodDrumstickOutline",class:"transition-position mb-5",title:"การกินอาหาร","has-table":"","header-icon":""},{default:n(()=>[t("div",Je,[o(V,{title:"รายการกินอาหาร",items:l.foods,datas:l.foodDatas,loading:l.loading.food,perPage:"5"},null,8,["items","datas","loading"]),o(P,{class:"flex justify-end lg:mb-0 mb-5"},{default:n(()=>{var r,F,A,w;return[x(" รวมกินทั้งหมด "),t("p",Xe,i(e.$filters.number((F=(r=s.food())==null?void 0:r.sum)==null?void 0:F.qty)),1),x(" กก. คิดเป็นเงิน "),t("p",Ze,i(e.$filters.currency((w=(A=s.food())==null?void 0:A.sum)==null?void 0:w.amount)),1)]}),_:1})])]),_:1})):D("",!0),o(g,{icon:"calendarClock",class:"transition-position mb-5","has-table":"",title:"ข้อมูลล่าสุด","header-icon":""},{default:n(()=>[t("div",je,[s.birth().count>0&&l.cow.sex!="M"?(_(),b(g,{key:0,icon:"babyFace",class:"dark:border-gray-800 border-4",loading:l.loading.birth,title:"การคลอดลูก","header-icon":""},{default:n(()=>[t("table",null,[t("tbody",null,[t("tr",null,[$e,t("td",null,i(s.birth().count),1)]),t("tr",null,[et,t("td",null,i(s.birth().lastDate),1)]),t("tr",null,[tt,t("td",null,i(s.birth().countMale),1)]),t("tr",null,[lt,t("td",null,i(s.birth().countFemale),1)])])])]),_:1},8,["loading"])):D("",!0),s.heal().count>0?(_(),b(g,{key:1,icon:"doctor",loading:l.loading.heal,class:"dark:border-gray-800 border-4",title:"การรักษา","header-icon":""},{default:n(()=>[t("table",null,[t("tbody",null,[t("tr",null,[at,t("td",null,i(s.heal().count),1)]),t("tr",null,[st,t("td",ot,i(s.heal().lastDate),1)]),t("tr",null,[rt,t("td",it,i(s.heal().lastDisease),1)]),t("tr",null,[nt,t("td",ct,i(s.heal().lastMethod),1)])])])]),_:1},8,["loading"])):D("",!0),s.reproduct().login.count>0&&l.cow.sex!="M"?(_(),b(g,{key:2,icon:"reproduction",class:"lg:col-span-2 dark:border-gray-800 border-4",loading:l.loading.reproduct,title:"การผสมพันธุ์/ผสมพันธุ์","header-icon":""},{default:n(()=>[t("div",dt,[t("table",null,[ut,t("tbody",null,[t("tr",null,[ht,t("td",null,i(s.reproduct().login.count),1),t("td",null,i(s.reproduct().login.lastDate),1),t("td",null,i(s.reproduct().login.result),1)]),t("tr",null,[mt,t("td",null,i(s.reproduct().estrus.count),1),t("td",null,i(s.reproduct().estrus.lastDate),1),gt]),t("tr",null,[ft,t("td",null,i(s.reproduct().mating.count),1),t("td",null,i(s.reproduct().mating.lastDate),1),pt]),t("tr",null,[wt,t("td",null,i(s.reproduct().check.count),1),t("td",null,i(s.reproduct().check.lastDate),1),bt])])])])]),_:1},8,["loading"])):D("",!0),t("div",_t,[l.protections.length>0?(_(),b(V,{key:0,title:"การป้องกัน/บำรุง",items:l.protections,datas:l.protectionDatas,loading:l.loading.protection,perPage:"5",icon:"pillMultiple"},null,8,["items","datas","loading"])):D("",!0)])])]),_:1}),l.notifications.length>0&&l.cow.sex!="M"?(_(),b(g,{key:2,icon:"messageBadgeOutline",class:"transition-position mb-5",loading:l.loading.notification,title:"การแจ้งเตือน","header-icon":"","has-table":""},{default:n(()=>[t("div",yt,[o(V,{title:"",items:l.notifications,datas:l.notificationDatas,loading:l.loading.notification,perPage:"5"},null,8,["items","datas","loading"])])]),_:1},8,["loading"])):D("",!0),o(g,{icon:"history",class:"transition-position mb-5",title:"ประวัติต่างๆ","header-icon":"","has-table":""},{default:n(()=>[t("div",xt,[l.cow.sex!="M"?(_(),b(V,{key:0,title:"ประวัติการรีดนม",items:l.historyMilks,datas:l.milkDatas,loading:l.loading.milk,icon:"waterCheck",perPage:"10"},null,8,["items","datas","loading"])):D("",!0),!l.loading.reproduct&&l.reproducts.length>0&&l.cow.sex!="M"?(_(),b(V,{key:1,title:"ประวัติการสืบพันธ์ุ/ผสมพันธ์ุ",icon:"reproduction",items:l.reproducts,datas:l.reproductDatas,loading:l.loading.reproduct,perPage:"5"},null,8,["items","datas","loading"])):D("",!0),!l.loading.birth&&l.births.length>0&&l.cow.sex!="M"?(_(),b(V,{key:2,title:"ประวัติการคลอดลูก",items:l.births,datas:l.birthDatas,loading:l.loading.birth,icon:"babyFaceOutline",perPage:"5"},null,8,["items","datas","loading"])):D("",!0),!l.loading.heal&&l.heals.length>0?(_(),b(V,{key:3,title:"ประวัติการรักษา",icon:"medication",items:l.heals,datas:l.healDatas,loading:l.loading.heal,perPage:"5"},null,8,["items","datas","loading"])):D("",!0)])]),_:1})]),_:1})]),_:1})}const Kt=Z(ye,[["render",Dt]]);export{Kt as default};
