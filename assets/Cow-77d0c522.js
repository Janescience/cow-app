import{C as n}from"./cow-e7aeb5ac.js";import{v as h,z as i,o as f,s as m,d as u,w as p,f as y}from"./index-ae395474.js";const _={data(){return{datas:[]}},created(){this.initialData()},computed:{value:{get(){var e,t;return this.valueType==="object"&&this.modelValue&&Object.keys(this.modelValue).length>0&&(this.modelValue.cow_data=((e=this.modelValue)==null?void 0:e.code)+" : "+((t=this.modelValue)==null?void 0:t.name)),this.modelValue},set(e){this.$emit("update:modelValue",e)}},user(){return this.$store.state.auth.user}},methods:{async initialData(){var t,l;const e={farm:this.user.farm._id,flag:"Y"};(t=this.filter)!=null&&t.sex&&(e.sex=this.filter.sex),(l=this.filter)!=null&&l.status&&(e.status=this.filter.status);try{const s=await n.ddl(e);if(this.datas=[],s&&(this.datas=s.data.cows,this.datas.map(a=>a.cow_data=a.code+" : "+a.name)),this.defaultValue){const a=this.datas.filter(d=>d[this.defaultType]==this.defaultValue);a&&this.handleInput(this.reduceAction(a[0]))}}catch(s){this.datas=[],console.error("Error: "+s.message)}},reduceAction(e){return this.valueType==="object"?e:e[this.valueType]},handleInput(e){this.$emit("update:value",e),this.dataSelected=this.datas.find(t=>t.code===e||t.name===e),this.$emit("update:dataSelected",this.dataSelected)}},props:{clear:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},dataSelected:{default:null,type:Object},defaultType:{default:null,type:Object},valueType:{default:"_id",type:Object},defaultValue:{default:null,type:Object},modelValue:{type:[String,Number,Boolean,Array,Object],default:{}},multiple:{default:!1,type:Boolean},filter:{default:null,type:Object}}},b={class:"relative"};function V(e,t,l,s,a,d){const o=i("mdicon"),c=i("v-select");return f(),m("div",b,[u(c,{class:"ddl-dark ddl-white max-w-full",clearable:l.clear,disabled:l.disabled,options:a.datas,reduce:d.reduceAction,label:"cow_data",placeholder:"เลือกโค",onInput:d.handleInput,modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r),dataSelected:l.dataSelected,multiple:l.multiple},{"no-options":p(()=>[u(o,{name:"alertCircleOutline",width:"12",height:"12",class:"inline-block"}),y(" ไม่พบข้อมูล ")]),_:1},8,["clearable","disabled","options","reduce","onInput","modelValue","dataSelected","multiple"])])}const j=h(_,[["render",V]]);export{j as D};
