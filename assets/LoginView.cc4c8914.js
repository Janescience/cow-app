import{h as _,s as f,u as p,c as V,o as c,a as k,b as a,w as t,d as l,e as i,t as y,f as j,_ as m,r as g,g as S,i as h,j as U,k as B,n as C,l as N,m as z,p as b,q as A,v as D,x as F,y as M}from"./index.a37edb95.js";import{_ as q,a as E}from"./SectionFullScreen.87398cdd.js";import{_ as w,a as L}from"./FormField.c2711203.js";import{_ as O}from"./BaseButtons.048c6afb.js";import{_ as P}from"./SectionTitle.c45c7a46.js";class R{login(e){return _.post("/auth/signin",{username:e.username,password:e.password}).then(s=>(console.log("response : ",s),s.data&&(f(s.data),p().setUser(s.data)),s.data))}logout(){f(null),p().setUser(null)}register(e){return _.post("/auth/signup",{username:e.username,password:e.password,name:e.name})}}var T=new R;const Y={class:"bg-white py-2 px-6 dark:bg-gray-900/70 w-full text-zinc-400 fixed bottom-0"},G={class:"text-center text-xs"},H=l("a",{href:"https://dairy-farm.com/",target:"_blank"},"dairy-farm.com",-1),I=i(" , janescience@xclude.dev "),J={__name:"FooterBar",setup(d){const e=V(()=>new Date().getFullYear());return(s,r)=>(c(),k("footer",Y,[a(m,{type:"justify-center"},{default:t(()=>[l("div",G,[i(" \xA9 2022 - "+y(j(e))+", ",1),H,I])]),_:1})]))}},K=i(" \u0E23\u0E30\u0E1A\u0E1A\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E1F\u0E32\u0E23\u0E4C\u0E21\u0E42\u0E04\u0E19\u0E21 "),Q=i(" \u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35 ? "),W=l("a",{href:"/register",class:"ml-1 text-blue-500"},[l("u",null,"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1A\u0E31\u0E0D\u0E0A\u0E35")],-1),X=l("a",{href:"/register",class:"text-sm text-gray-600"},[l("u",null,"\u0E25\u0E37\u0E21\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19 ?")],-1),oe={__name:"LoginView",setup(d){const e=g({login:"halem",pass:"P@ssw0rd",remember:["remember"]}),s=S(!1),r=g({message:""}),$=U(),x=()=>{s.value=!0,r.message="",T.login({username:e.login,password:e.pass}).then(u=>{$.push("/dashboard"),s.value=!1}).catch(u=>{r.message=u.response.data.message,s.value=!1})};return(u,o)=>(c(),h(q,null,{default:t(()=>[a(E,{bg:"login"},{default:t(({cardClass:v})=>[a(B,{class:C(v),form:"",title:"","header-icon":"",onSubmit:N(x,["prevent"])},{default:t(()=>[a(m,{type:"justify-center"},{default:t(()=>[a(z,{avatar:"image/cow-logo.jpg",class:"w-28"})]),_:1}),a(P,null,{default:t(()=>[K]),_:1}),a(m,{type:"justify-center",class:"text-sm"},{default:t(()=>[Q,W]),_:1}),a(w,{label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",help:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"},{default:t(()=>[a(b,{modelValue:e.login,"onUpdate:modelValue":o[0]||(o[0]=n=>e.login=n),icon:"account",name:"login",autocomplete:"username"},null,8,["modelValue"])]),_:1}),a(w,{label:"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",help:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19"},{default:t(()=>[a(b,{modelValue:e.pass,"onUpdate:modelValue":o[1]||(o[1]=n=>e.pass=n),icon:"asterisk",type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),a(m,null,{default:t(()=>[a(L,{modelValue:e.remember,"onUpdate:modelValue":o[2]||(o[2]=n=>e.remember=n),name:"remember",options:{remember:"\u0E08\u0E14\u0E08\u0E33\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"}},null,8,["modelValue"]),X]),_:1}),r.message?(c(),h(A,{key:0,color:"danger",outline:"",icon:"alertCircleOutline"},{default:t(()=>[i(y(r.message),1)]),_:1})):D("",!0),a(F),a(O,{type:"justify-center"},{default:t(()=>[a(M,{type:"submit",color:"info",label:"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A",loading:s.value,disabled:s.value},null,8,["loading","disabled"])]),_:1})]),_:2},1032,["class","onSubmit"]),a(J)]),_:1})]),_:1}))}};export{oe as default};
