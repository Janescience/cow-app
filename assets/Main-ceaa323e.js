import{z as f,S as g,U as h,$ as w,C as _,D as x,E as y,T as L,B as S,c as i,w as c,F as s,o as r,d as n,k}from"./index-c9a4d9fd.js";import{C}from"./CriteriaReport-428bd84f.js";import{R as u}from"./report-8125373b.js";import"./CardBoxCollapse-dc8880c5.js";import"./FormField-11b53394.js";import"./Cow-8bb62a32.js";import"./cow-9f79e87e.js";import"./Recipe-065a7d23.js";import"./Vaccine-bf53e700.js";const B={data(){return{items:[],forms:[{label:"โค",value:"cow",type:"ddl",module:"cow"},{label:"สถานะ",value:"status",options:g()},{label:"คุณภาพน้ำนม",value:"quality",options:h()},{label:"คอก",value:"corral",icon:"barn"},{label:"Flag",value:"flag",options:w()}],datas:[{label:"รหัส",class:"text-center",value:"code"},{label:"ชื่อ",value:"name"},{label:"วันเกิด",class:"text-center",value:"birthDate",type:"date"},{label:"วันที่นำมาเลี้ยง",class:"text-center",value:"adopDate",type:"date"},{label:"น้ำหนัก",value:"weight"},{label:"อายุ",value:"age"},{label:"คอก",value:"corral"},{label:"สถานะ",class:"text-center",value:"status"},{label:"พ่อพันธู์",class:"text-center",value:"dad"},{label:"แม่พันธุ์",class:"text-center",value:"mom"},{label:"น้ำนมเฉลี่ย/วัน",class:"text-center",value:"milkAvg",type:"number"},{label:"น้ำนมทั้งหมด",class:"text-center",value:"milkSum",type:"number"},{label:"คุณภาพนม",class:"text-center",value:"quality"},{label:"ความคุ้มค่า",class:"text-center",value:"level"},{label:"FLAG",class:"text-center",value:"flag"},{label:"หมายเหตุ",value:"remark"}],search:{cow:null,status:"",quality:"",corral:null,flag:""},loading:!1,viewLoading:!1}},components:{SectionMain:_,LayoutAuthenticated:x,SectionTitleBarSub:y,Criteria:C,Table:L},methods:{async view(a){this.viewLoading=!0;const l=await u.cowView(a);this.items=[],l.data&&(this.items=l.data.cows),this.viewLoading=!1},async print(){this.loading=!0;const a=await u.cowExport(this.search);if(a.data){const l=window.URL.createObjectURL(new Blob([a.data])),t=document.createElement("a");t.href=l,t.setAttribute("download","ข้อมูลโค "+S().format("DDMMYYYYHHmm")+".xlsx"),document.body.appendChild(t),t.click(),t.remove()}this.loading=!1},reset(){this.items=[],this.search={}}}};function T(a,l,t,V,e,o){const m=s("SectionTitleBarSub"),d=s("Criteria"),b=s("Table"),p=s("SectionMain"),v=s("LayoutAuthenticated");return r(),i(v,null,{default:c(()=>[n(p,null,{default:c(()=>[n(m,{icon:"cow",title:"รายงานข้อมูลโค"}),n(d,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:o.print,onView:o.view,onReset:o.reset,forms:e.forms,search:e.search,btnLoading:e.loading,btnViewLoading:e.viewLoading,collapse:""},null,8,["onSearch","onView","onReset","forms","search","btnLoading","btnViewLoading"]),e.items.length>0?(r(),i(b,{key:0,title:"ข้อมูลโค",perPage:"20",items:e.items,datas:e.datas,loading:e.viewLoading},null,8,["items","datas","loading"])):k("",!0)]),_:1})]),_:1})}const H=f(B,[["render",T]]);export{H as default};
