import{x as g,a1 as i,a2 as U,R as y,e as P,a3 as q,_ as $,a4 as M,V as _,o as k,c as S,w as r,b as e,m as c,t as B,a as N,r as V,U as A,W as R,d as v,j as b,k as f,S as T}from"./index.58d4e48c.js";import{a as j,_ as m}from"./FormField.57c4bb12.js";import{_ as d}from"./FormControl.d055eb02.js";import{_ as E}from"./FormFilePicker.89dfce52.js";import{_ as F}from"./SectionBottomOtherPages.d1e0f730.js";import{_ as C}from"./BaseButtons.1db6cf7d.js";import"./SectionTitle.5596a6f3.js";function u(){let o=g().currentUser;return o&&o.accessToken?{Authorization:o.accessToken}:{}}class L{all(){return i.get("/member",{headers:u()}).then(a=>(U(a.data.data.length),g().setCountMember(a.data.data.length),a))}getAll(a){return a||(a=""),i.get("/member?search="+a,{headers:u()})}get(a){return i.get(`/member/${a}`,{headers:u()})}create(a){return i.post("/member",a,{headers:u()})}delete(a){return i.delete(`/member/${a}`,{headers:u()})}update(a,p){return i.put(`/member?memberId=${a}&memberNewName=${p}`,null,{headers:u()})}}var Y=new L;const D={data(){return{userSwitchVal:[],user:{}}},created(){this.getMember()},methods:{async getMember(){const o=await Y.get(this.$route.params.id);o.data&&(this.user=o.data.data)}},components:{BaseLevel:P,UserAvatarCurrentUser:q,CardBox:$,FormCheckRadioPicker:j,PillTag:M}},O={class:"space-y-3 text-center md:text-left lg:mx-12"},z={class:"text-2xl"},H={class:"flex justify-center md:block"};function I(o,a,p,n,l,h){const w=_("UserAvatarCurrentUser"),x=_("PillTag"),t=_("BaseLevel"),s=_("CardBox");return k(),S(s,{rounded:""},{default:r(()=>[e(t,{type:"justify-around lg:justify-center"},{default:r(()=>[e(w,{class:"lg:mx-6 w-24",username:o.$route.params.id},null,8,["username"]),c("div",O,[c("h1",z,[c("b",null,B(l.user.name),1)]),c("div",H,[e(x,{text:"Verified",type:"info",icon:"checkDecagram"})])])]),_:1})]),_:1})}var W=y(D,[["render",I]]);const G={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},re={__name:"ProfileView",setup(o){const a=g(),p=N(["Admin","Profile"]),n=V({name:a.userName,email:a.userEmail}),l=V({password_current:"",password:"",password_confirmation:""}),h=()=>{a.setUser(n)},w=()=>{};return(x,t)=>(k(),S(A,null,{default:r(()=>[e(R,{"title-stack":p.value},null,8,["title-stack"]),e(W),e(T,null,{default:r(()=>[c("div",G,[e($,{title:"Edit Profile",icon:"accountCircle",form:"",onSubmit:v(h,["prevent"])},{default:r(()=>[e(m,{label:"Avatar",help:"Max 500kb"},{default:r(()=>[e(E)]),_:1}),e(m,{label:"Name",help:"Required. Your name"},{default:r(()=>[e(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=s=>n.name=s),icon:"account",name:"username",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(m,{label:"E-mail",help:"Required. Your e-mail"},{default:r(()=>[e(d,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=s=>n.email=s),icon:"mail",type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:r(()=>[e(f,{color:"info",type:"submit",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"]),e($,{title:"Change Password",icon:"lock",form:"",onSubmit:v(w,["prevent"])},{default:r(()=>[e(m,{label:"Current password",help:"Required. Your current password"},{default:r(()=>[e(d,{modelValue:l.password_current,"onUpdate:modelValue":t[2]||(t[2]=s=>l.password_current=s),icon:"asterisk",name:"password_current",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),e(b),e(m,{label:"New password",help:"Required. New password"},{default:r(()=>[e(d,{modelValue:l.password,"onUpdate:modelValue":t[3]||(t[3]=s=>l.password=s),icon:"formTextboxPassword",name:"password",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(m,{label:"Confirm password",help:"Required. New password one more time"},{default:r(()=>[e(d,{modelValue:l.password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=s=>l.password_confirmation=s),icon:"formTextboxPassword",name:"password_confirmation",type:"password",required:"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1}),e(b),e(C,null,{default:r(()=>[e(f,{type:"submit",color:"info",label:"Submit"}),e(f,{color:"info",label:"Options",outline:""})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}),e(F)]),_:1}))}};export{re as default};
