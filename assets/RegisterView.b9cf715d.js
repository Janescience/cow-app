import{r as p,a as g,c as b,w as a,u as x,b as N,o as V,d as e,_ as j,n as C,e as k,f as d,g as S,h as i,i as c,j as q,t as U,k as B,l as R,m as z,p as A,q as m,F as D,G as F,s as _,H as G}from"./index.2dcfda0f.js";import{_ as H,a as M}from"./SectionFullScreen.ebb366ac.js";import{_ as f}from"./FormField.8a37672c.js";import{_ as O}from"./SectionTitle.8037afbf.js";const T=_("a",{href:"/login",class:"ml-1 text-blue-500"},[_("u",null,"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A")],-1),E=_("p",null,"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08 \u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48 ? ",-1),Q={__name:"RegisterView",setup(I){const s=p({username:"",password:"",farmName:""}),o=g(!1),r=g(!1),n=p({message:""}),w=x(),y=N(),$=async()=>{n.message="",(await G.register(s)).data&&(r.value=!0)},h=()=>{o.value=!0,n.message="",y.dispatch("auth/login",{username:s.username,password:s.password}).then(u=>{w.push("/dashboard")}).catch(u=>{n.message=u.response.data.message,o.value=!1})};return(u,l)=>(V(),b(H,null,{default:a(()=>[e(M,{bg:"login"},{default:a(({cardClass:v})=>[e(j,{class:C(v),form:"",title:"","header-icon":"",onSubmit:k($,["prevent"])},{default:a(()=>[e(d,{type:"justify-center"},{default:a(()=>[e(S,{avatar:"/image/cow-logo.jpg",class:"w-28"})]),_:1}),e(O,null,{default:a(()=>[i(" \u0E23\u0E30\u0E1A\u0E1A\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E1F\u0E32\u0E23\u0E4C\u0E21\u0E42\u0E04\u0E19\u0E21 ")]),_:1}),e(d,{type:"justify-center",class:"text-lg"},{default:a(()=>[i(" \u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1A\u0E31\u0E0D\u0E0A\u0E35 ")]),_:1}),e(d,{type:"justify-center",class:"text-sm"},{default:a(()=>[i(" \u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E41\u0E25\u0E49\u0E27 ? "),T]),_:1}),e(f,{label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",help:"* \u0E2B\u0E49\u0E32\u0E21\u0E27\u0E48\u0E32\u0E07"},{default:a(()=>[e(c,{modelValue:s.username,"onUpdate:modelValue":l[0]||(l[0]=t=>s.username=t),icon:"account",name:"login",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(f,{label:"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",help:"* \u0E2B\u0E49\u0E32\u0E21\u0E27\u0E48\u0E32\u0E07"},{default:a(()=>[e(c,{modelValue:s.password,"onUpdate:modelValue":l[1]||(l[1]=t=>s.password=t),icon:"asterisk",type:"password",name:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),e(f,{label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1F\u0E32\u0E23\u0E4C\u0E21",help:"* \u0E2B\u0E49\u0E32\u0E21\u0E27\u0E48\u0E32\u0E07"},{default:a(()=>[e(c,{modelValue:s.farmName,"onUpdate:modelValue":l[2]||(l[2]=t=>s.farmName=t),icon:"barn",required:""},null,8,["modelValue"])]),_:1}),n.message?(V(),b(q,{key:0,color:"danger",outline:"",icon:"alertCircleOutline"},{default:a(()=>[i(U(n.message),1)]),_:1})):B("",!0),e(R),e(z,{type:"justify-center"},{default:a(()=>[e(A,{type:"submit",color:"info",label:"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1A\u0E31\u0E0D\u0E0A\u0E35",loading:m(o),disabled:m(o)},null,8,["loading","disabled"])]),_:1})]),_:2},1032,["class","onSubmit"]),e(D,{modelValue:m(r),"onUpdate:modelValue":l[3]||(l[3]=t=>F(r)?r.value=t:null),title:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07","button-label":"\u0E15\u0E01\u0E25\u0E07",onConfirm:h,"has-cancel":"","has-button":"",loading:m(o)},{default:a(()=>[E]),_:1},8,["modelValue","loading"])]),_:1})]),_:1}))}};export{Q as default};
