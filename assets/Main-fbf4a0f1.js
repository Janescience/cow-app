import{z as p,C as b,D as f,E as _,B as g,c as w,w as s,F as r,o as S,d as l}from"./index-629ff7e8.js";import{C as y}from"./Criteria-b310a4b5.js";import{R as D}from"./report-5efd12d4.js";import{T as M}from"./alert-92a2c52a.js";import"./CardBoxCollapse-c9b062bd.js";import"./FormField-549ee950.js";import"./FormCheckRadioPicker-842da6bf.js";import"./Cow-92d853b0.js";import"./cow-9e22cfb1.js";import"./Vaccine-a9cfbbcb.js";const c=()=>[{id:1,label:"มกราคม"},{id:2,label:"กุมภาพันธ์"},{id:3,label:"มีนาคม"},{id:4,label:"เมษายน"},{id:5,label:"พฤษภาคม"},{id:6,label:"มิถุนายน"},{id:7,label:"กรกฏาคม"},{id:8,label:"สิงหาคม"},{id:9,label:"กันยายน"},{id:10,label:"ตุลาคม"},{id:11,label:"พฤศจิกายน"},{id:12,label:"ธันวาคม"}],Y=()=>x(),x=()=>{let o=[];const t=new Date().getFullYear()+543,a=new Date().getFullYear();for(let e=5;e>0;e--)o.push({id:a+e,label:t+e});o.push({id:a,label:t});for(let e=1;e<6;e++)o.push({id:a-e,label:t-e});return o},T={data(){return{forms:[{label:"ปี",value:"year",options:Y(),required:!0},{label:"ตั้งแต่เดือน",value:"monthFrom",options:c(),required:!0},{label:"ถึงเดือน",value:"monthTo",options:c(),required:!0}],search:{year:new Date().getFullYear(),monthFrom:new Date().getMonth()+1,monthTo:new Date().getMonth()+1},loading:!1}},components:{SectionMain:b,LayoutAuthenticated:f,SectionTitleBarSub:_,Criteria:y},methods:{async exportExcel(o){this.loading=!0;const t=await D.rawMilk(o);if(console.log(t),t.data.size<=4)M.fire({icon:"warning",title:"ไม่พบข้อมูล"});else{const a=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=a,e.setAttribute("download","ผลผลิตน้ำนมดิบ ปี "+this.search.year+" "+g().format("DDMMYYYYHHmm")+".xlsx"),document.body.appendChild(e),e.click(),e.remove()}this.loading=!1},reset(){this.search.year=new Date().getFullYear(),this.search.monthForm=new Date().getMonth()+1,this.search.monthTo=new Date().getMonth()+1}}};function C(o,t,a,e,n,i){const d=r("SectionTitleBarSub"),m=r("Criteria"),u=r("SectionMain"),h=r("LayoutAuthenticated");return S(),w(h,null,{default:s(()=>[l(u,null,{default:s(()=>[l(d,{icon:"water",title:"ผลผลิตน้ำนมดิบ"}),l(m,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:i.exportExcel,onReset:i.reset,forms:n.forms,search:n.search,btnSubmitLabel:"ออกรายงาน",btnLoading:n.loading,collapse:!0},null,8,["onSearch","onReset","forms","search","btnLoading"])]),_:1})]),_:1})}const H=p(T,[["render",C]]);export{H as default};
