import{r as m,a as h,c as u,w as a,u as V,b as y,o as c,d as e,e as v,_,f as i,t as x,g as j,h as k,i as f,j as d}from"./index-eca85292.js";import{_ as C,a as N}from"./SectionFullScreen-3cbd3cc2.js";import{_ as S,a as B,b as q}from"./BaseDivider-95ad4108.js";import{_ as p}from"./FormField-b970840e.js";import{_ as g}from"./FormControl-42986717.js";import{_ as U}from"./SectionTitle-b22f750c.js";import{_ as D}from"./UserAvatar-6ff9a87e.js";import{_ as L}from"./NotificationBar-fdce797b.js";const M=d("a",{href:"/register",class:"ml-1 text-blue-500"},[d("u",null,"สร้างบัญชี")],-1),J={__name:"LoginView",setup(O){const s=m({login:"",pass:"",remember:["remember"]}),t=h(!1),o=m({message:""}),b=V(),w=y(),$=()=>{t.value=!0,o.message="",w.dispatch("auth/login",{username:s.login,password:s.pass}).then(r=>{b.push("/overview/farm"),t.value=!1}).catch(r=>{o.message=r.response.data.message,t.value=!1})};return(r,l)=>(c(),u(C,null,{default:a(()=>[e(N,{bg:"login"},{default:a(({cardClass:R})=>[e(S,{class:"w-11/12 md:w-7/12 lg:w-6/12 xl:w-3/12 shadow-2xl p-2",form:"",title:"","header-icon":"",onSubmit:v($,["prevent"])},{default:a(()=>[e(_,{type:"justify-center"},{default:a(()=>[e(D,{avatar:"/image/cow-logo.jpg",class:"w-28",username:"logo"})]),_:1}),e(U,null,{default:a(()=>[i(" ระบบจัดการฟาร์มโคนม ")]),_:1}),e(_,{type:"justify-center",class:"text-sm"},{default:a(()=>[i(" ยังไม่มีบัญชี ? "),M]),_:1}),e(p,{label:"ชื่อผู้ใช้",help:"กรุณากรอกชื่อผู้ใช้"},{default:a(()=>[e(g,{modelValue:s.login,"onUpdate:modelValue":l[0]||(l[0]=n=>s.login=n),icon:"account",name:"login",required:"",autocomplete:"username"},null,8,["modelValue"])]),_:1}),e(p,{label:"รหัสผ่าน",help:"กรุณากรอกรหัสผ่าน"},{default:a(()=>[e(g,{modelValue:s.pass,"onUpdate:modelValue":l[1]||(l[1]=n=>s.pass=n),icon:"asterisk",type:"password",name:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),o.message?(c(),u(L,{key:0,color:"danger",outline:"",icon:"alertCircleOutline"},{default:a(()=>[i(x(o.message),1)]),_:1})):j("",!0),e(B),e(k,{type:"justify-center"},{default:a(()=>[e(q,{type:"submit",color:"info",label:"เข้าสู่ระบบ",loading:f(t),disabled:f(t)},null,8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}};export{J as default};
