import{c as J,_ as K,d as X,a as Z}from"./BaseDivider-087fd070.js";import{a as j,C as E,l as B,m as q,p as F,q as V,o as u,s as m,v as $,x as O,y as D,z as C,c as ee,w as g,d as l,j as e,g as M,t as d,f as S}from"./index-060bb0dd.js";import{_ as te}from"./DoughnutChart-d01a15a5.js";import{_ as se}from"./SectionTitleBar-0f37ba62.js";import{_ as ae}from"./SectionTitleBarSub-529ae2e0.js";import{_ as oe}from"./LayoutAuthenticated-b90cef1e.js";import{T as le}from"./Table-7a2cb3dd.js";import{_ as re}from"./FormControl-89b2f2e2.js";import{_ as ie}from"./FormField-69b5bf88.js";import{D as A}from"./dashboard-83e4e54d.js";import{y as ce,m as H}from"./date-1696e46e.js";import"./UserAvatar-54abd112.js";import"./CardBoxModal-1ff463d1.js";const ne={__name:"BarChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,o=j(null);let c;E.register(...B),q(()=>{c=new E(o.value,{type:"bar",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})});const s=F(()=>a.data);return V(s,r=>{c&&(c.data=r,c.update())}),(r,h)=>(u(),m("canvas",{ref_key:"root",ref:o},null,512))}},de={__name:"LineChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,o=j(null);let c;E.register(...B),q(()=>{c=new E(o.value,{type:"line",data:a.data,options:{responsive:!0,plugins:{title:{display:!0}},scales:{x:{display:!0,title:{display:!0}},y:{display:!0,suggestedMin:0,suggestedMax:200}}}})});const s=F(()=>a.data);return V(s,r=>{c&&(c.data=r,c.update())}),(r,h)=>(u(),m("canvas",{ref_key:"root",ref:o},null,512))}},he={__name:"PieChart",props:{data:{type:Object,required:!0}},setup(t){const a=t,o=j(null);let c;E.register(...B),q(()=>{c=new E(o.value,{type:"pie",data:a.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",display:!0}}}})});const s=F(()=>a.data);return V(s,r=>{c&&(c.data=r,c.update())}),(r,h)=>(u(),m("canvas",{ref_key:"root",ref:o},null,512))}},ue={data(){return{chart:{milk:{all:{qty:null,amt:null},year:{qty:null,amt:null}},business:{all:null},expense:{cost:null,bill:null,care:null},income:null,food:{year:null}},milkYears:[],milkAlls:[],statistics:{},corrals:[],food:{},foodYear:new Date().getFullYear(),milkYearValue:new Date().getFullYear(),businessYear:new Date().getFullYear(),milkYearSearch:!1,foodYearSearch:!1,businessYearSearch:!1,milkYear:{},milkAll:{},cow:{},corralColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCows",class:"text-center"}],foodColumns:[{label:"คอก",value:"corral",class:"text-center"},{label:"จำนวนโค",value:"numCow",class:"text-center"},{label:"จำนวนเฉลี่ย/เดือน (กก.)",value:"avgQty",class:"text-center",type:"number"},{label:"ค่าใช้จ่ายเฉลี่ย/เดือน (บาท)",value:"avgAmount",class:"text-right",type:"currency"},{label:"จำนวนเดือน",value:"count"}],years:ce("search"),expense:{},expenseSum:{},income:{},incomeSum:{},loading:{milks:!0,expense:!0,income:!0,corral:!0,statistic:!0,food:!0}}},components:{DoughnutChart:te,LineChart:de,BarChart:ne,SectionMain:J,SectionTitleBar:se,CardBox:K,SectionTitleBarSub:ae,LayoutAuthenticated:oe,BaseIcon:X,BaseDivider:Z,Table:le,FormControl:re,FormField:ie,PieChart:he},watch:{foodYear(t){t&&this.getFood(t)},milkYearValue(t){t&&this.getMilks(t)},businessYear(t){t?(this.incomeSum={},this.expenseSum={},this.getExpense(t),this.getIncome(t)):(this.getExpenseAll(),this.getIncomeAll())}},computed:{user(){return this.$store.state.auth.user}},created(){this.getFood(),this.getIncome(),this.getMilks(),this.getExpense(),this.getCorrals(),this.getStatistics()},methods:{async getMilks(t){this.loading.milks=!0;const a=await A.getMilks(t||this.milkYearValue);a&&(this.processMilkYears(a.data.last),this.processMilkAlls(a.data.all)),this.chart.milk.year.qty=this.milkChart("qty",this.milkYears,"year"),this.chart.milk.year.amt=this.milkChart("amount",this.milkYears,"year"),this.chart.milk.all.qty=this.milkChart("qty",this.milkAlls,"all"),this.chart.milk.all.amt=this.milkChart("amount",this.milkAlls,"all"),this.loading.milks=!1},processMilkYears(t){let a=0,o=0;t.forEach(i=>{i.month=O(i.date,"YYYY-MM-DD").format("M"),a+=i.milkDetails.reduce((v,y)=>v+y.qty,0),o+=i.milkDetails.reduce((v,y)=>v+y.amount,0)});const c=D.groupBy(t,"date"),s=Object.keys(c).length,r=a>0?a/s:0,h=o>0?o/s:0,f=D.groupBy(t,"month"),_=Object.keys(f).length,b=a>0?a/_:0,x=o>0?o/_:0;this.milkYears=D.orderBy(f,"ASC"),this.milkYear={sumQty:a,sumAmt:o,avgDayQty:r,avgDayAmt:h,avgMonthQty:b,avgMonthAmt:x,countDate:s,countMonth:_}},processMilkAlls(t){let a=0,o=0;t.forEach(i=>{const v=O(i.date,"YYYY-MM-DD");i.year=v.format("YYYY"),i.month=v.format("M"),a+=i.milkDetails.reduce((y,k)=>y+k.qty,0),o+=i.milkDetails.reduce((y,k)=>y+k.amount,0)});const c=D.groupBy(t,"month"),s=D.groupBy(t,"year"),r=Object.keys(c).length,h=Object.keys(s).length,f=a>0?a/r:0,_=a>0?a/h:0,b=o>0?o/r:0,x=o>0?o/h:0;this.milkAll={sumQty:a,sumAmt:o,avgMonthQty:f,avgYearQty:_,avgMonthAmt:b,avgYearAmt:x,countMonth:r,countYear:h},this.milkAlls=D.orderBy(s,"ASC")},async getFood(t){this.loading.food=!0;const a=await A.getFood(t||this.foodYear);a.data&&(this.food=a.data,this.chart.food.year=this.foodChart()),this.loading.food=!1},async getExpense(t){this.loading.expense=!0;const a=await A.getExpense(t||this.businessYear);a&&(this.expense=a.data),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getExpenseAll(){this.loading.expense=!0;const t=await A.getExpenseAll();t&&(this.expense=t.data.expenseDetail,this.expenseSum=t.data.expenseSum),this.chart.expense.cost=this.expenseChart("cost"),this.chart.expense.bill=this.expenseChart("bill"),this.chart.expense.care=this.expenseChart("care"),this.loading.expense=!1},async getIncome(t){this.loading.income=!0;const a=await A.getIncome(t||this.businessYear);a&&(this.income=a.data),this.loading.income=!1,this.chart.income=this.incomeChart()},async getIncomeAll(){this.loading.income=!0;const t=await A.getIncomeAll();t&&(this.income=t.data.incomeDetail,this.incomeSum=t.data.incomeSum),this.loading.income=!1,this.chart.business.all=this.businessAllChart(),this.chart.income=this.incomeChart()},async getCorrals(){this.loading.corral=!0;const t=await A.getCorrals();t&&(this.corrals=t.data),this.loading.corral=!1},async getStatistics(){this.loading.statistic=!0;const t=await A.getStatistics();t&&(this.statistics=t.data),this.loading.statistic=!1},milkChart(t,a,o){const c=[];Object.keys(a).forEach(b=>{let x=a[b],i=0;x.map(v=>{v.milkDetails.map(y=>{i+=y[t]})}),c.push(i)});const s={qty:"น้ำนมดิบ",amount:"รายได้"},r={qty:"#e11d48",amount:"#16a34a"},h={qty:"#db2777",amount:"#65a30d"},f={label:s[t],borderColor:r[t],borderWidth:2,borderRadius:5,borderSkipped:!0,barPercentage:.5,backgroundColor:h[t],data:c,tension:.5},_=[];return o=="year"?H().forEach(b=>{_.push(`${b}`)}):Object.keys(a).forEach(b=>{_.push(`${b}`)}),{labels:_,datasets:[f]}},foodChart(){var c;const t=[],a=[];(c=this.food)==null||c.month.map(s=>{t.push(s.sumQty),a.push(s.sumAmount)});const o=[];return H().forEach(s=>{o.push(`${s}`)}),{labels:o,datasets:[{label:"จำนวน (กก.)",borderColor:"#E83105",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#F6461C",data:t,tension:.5},{label:"ค่าอาหาร",borderColor:"#566573",borderWidth:2,borderRadius:5,borderSkipped:!0,backgroundColor:"#5D6D7E",data:a,tension:.5}]}},businessAllChart(){const t=[],a=[],o=[],c=[];Object.keys(this.expenseSum.cost).forEach(h=>{t.push(this.expenseSum.cost[h])}),Object.keys(this.expenseSum.bill).forEach(h=>{a.push(this.expenseSum.bill[h])}),Object.keys(this.expenseSum.care).forEach(h=>{o.push(this.expenseSum.care[h])}),Object.keys(this.incomeSum.rawMilk).forEach(h=>{c.push(this.incomeSum.rawMilk[h])});const s=[];let r=new Set([...Object.keys(this.expenseSum.bill),...Object.keys(this.expenseSum.care),...Object.keys(this.expenseSum.cost),...Object.keys(this.incomeSum.rawMilk)]);return r=Array.from(r),Object.keys(this.incomeSum).forEach(h=>{let f=this.incomeSum[h];r.forEach(_=>{f.hasOwnProperty(_)||(f[_]=0)})}),Object.keys(this.expenseSum).forEach(h=>{let f=this.expenseSum[h];r.forEach(_=>{f.hasOwnProperty(_)||(f[_]=0)})}),Object.keys(this.expenseSum.bill).forEach(h=>{s.push(`${h}`)}),{labels:s,datasets:[{label:"ผลผลิต",data:c,borderWidth:2,weight:2,backgroundColor:"#bbf7d0",hoverOffset:4},{label:"ต้นทุน",data:t,borderWidth:2,weight:2,backgroundColor:"#d1d5db",hoverOffset:4},{label:"ค่าใช้จ่ายเพิ่มเติม",data:a,borderWidth:2,weight:2,backgroundColor:"#fca5a5",hoverOffset:4},{label:"ค่าดูแลโค",data:o,borderWidth:2,weight:2,backgroundColor:"#fcd34d",hoverOffset:4}]}},incomeChart(){const t=[];Object.keys(this.income).forEach(s=>{t.push(this.income[s])});const a={data:t,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},o={rawMilk:"น้ำนมดิบ",cowExport:"จำหน่ายโค",pasteuri:"นมพาสเจอไรซ์",dung:"มูลสัตว์",meat:"จำหน่ายเนื้อโค"},c=[];return Object.keys(this.income).forEach(s=>{c.push(`${o[s]}`)}),{labels:c,datasets:[a]}},expenseChart(t){const a=[];Object.keys(this.expense[t]).forEach(r=>{a.push(this.expense[t][r])});const o={data:a,borderWidth:2,weight:2,backgroundColor:["#d1d5db","#fca5a5","#fcd34d","#bbf7d0","#a5f3fc","#c7d2fe","#fbcfe8"],hoverOffset:4},c={cost:{building:"สิ่งปลูกสร้าง",equipment:"อุปกรณ์",cow:"ค่านำเข้าโค",maintenance:"ซ่อมบำรุง"},bill:{water:"ค่าน้ำ",electric:"ค่าไฟ",accom:"ค่าที่พักคนงาน",rent:"ค่าเช่า",internet:"ค่าอินเทอร์เน็ต",waste:"ค่าของเสีย",oth:"อื่นๆ"},care:{food:"ค่าอาหาร",heal:"ค่ารักษา",protection:"ค่าวัคซีน",worker:"ค่าจ้างคนงาน"}},s=[];return Object.keys(this.expense[t]).forEach(r=>{s.push(`${c[t][r]}`)}),{labels:s,datasets:[o]}},sumExpense(){var s,r,h,f,_,b;let t=0,a=0,o=0;if((s=this.expense)!=null&&s.care)for(let x of Object.keys((r=this.expense)==null?void 0:r.care)){const i=this.expense.care[x];i&&(a+=i)}if((h=this.expense)!=null&&h.cost)for(let x of Object.keys((f=this.expense)==null?void 0:f.cost)){const i=this.expense.cost[x];i&&(t+=i)}if((_=this.expense)!=null&&_.bill)for(let x of Object.keys((b=this.expense)==null?void 0:b.bill)){const i=this.expense.bill[x];i&&(o+=i)}return{total:a+t+o,care:a,cost:t,bill:o}},sumIncome(){let t=0;for(let a of Object.keys(this.income)){const o=this.income[a];o&&(t+=o)}return{total:t}},sumProfit(){const t=this.sumExpense().total,a=this.sumIncome().total;let o=a-t,c=0;return o>=0?c=o/a*100:c=o/t*100,{profit:o,percent:c}},formatDate(t){return t?O(new Date(t)).format("DD/MM/YYYY"):""}}},me={class:"grid grid-cols-1 gap-5"},pe={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},_e={key:1,class:"h-52 mt-5"},ge={key:2,class:"text-gray-500"},fe={class:"grid grid-cols-1 gap-5"},xe={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},be={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3"},ye={class:"overflow-x-auto"},ke=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (วัน)"),e("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/วัน (กก.)")])],-1),ve={class:"font-extrabold text-2xl"},we={class:"text-center"},Ye={class:"text-center"},Ce={class:"text-center"},Se={class:"text-center"},Ae={key:0,class:"mt-3 h-60 mb-5"},De={key:1,class:"text-gray-500"},Ee={class:"overflow-x-auto"},Me=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/เดือน (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/วัน (บาท)")])],-1),Oe={class:"font-extrabold text-2xl"},je={class:"text-center"},Be={class:"text-center"},qe={class:"text-center"},Fe={key:0,class:"mt-3 h-60"},Ve={key:1,class:"text-gray-500"},Ie={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},Qe={class:"overflow-x-auto"},Pe=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รีดนมแล้ว (ปี)"),e("th",{class:"whitespace-nowrap text-center"},"ทั้งหมด (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/เดือน (กก.)"),e("th",{class:"whitespace-nowrap text-center"},"เฉลี่ย/ปี (กก.)")])],-1),Te={class:"font-extrabold text-2xl"},ze={class:"text-center"},We={class:"text-center"},Re={class:"text-center"},Le={class:"text-center"},Ne={key:0,class:"lg:h-62"},He={key:1,class:"text-gray-500"},Ue={class:"overflow-x-auto"},Ge=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap text-center"},"รายได้ทั้งหมด (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/เดือน (บาท)"),e("th",{class:"whitespace-nowrap text-center"},"รายได้เฉลี่ย/ปี (บาท)")])],-1),Je={class:"font-extrabold text-2xl"},Ke={class:"text-center"},Xe={class:"text-center"},Ze={class:"text-center"},$e={key:0,class:"lg:h-62"},et={key:1,class:"text-gray-500"},tt={key:0,class:"lg:col-span-2 grid lg:grid-cols-6 grid-cols-3 mb-5"},st={key:1,class:"h-80 mt-5 col-span-2 mb-5"},at={class:"grid lg:grid-cols-2 grid-cols-1 gap-5"},ot={class:"grid lg:grid-cols-3 grid-cols-1 gap-5 text-center"},lt=e("p",null,"ต้นทุน",-1),rt={class:"text-red-500 underline decoration-2 font-extrabold"},it={key:0,class:"h-80"},ct={key:1,class:"text-gray-500"},nt=e("p",null,"ค่าดูแลโค",-1),dt={class:"text-red-500 underline decoration-2 font-extrabold"},ht={key:0,class:"h-80"},ut={key:1,class:"text-gray-500"},mt=e("p",null,"ค่าใช้จ่ายเพิ่มเติม",-1),pt={class:"text-red-500 underline decoration-2 font-extrabold"},_t={key:0,class:"h-80"},gt={key:1,class:"text-gray-500"},ft={class:"grid grid-cols-1 gap-5 text-center"},xt=e("p",null,"ผลผลิต",-1),bt={class:"text-lime-500 underline decoration-2 font-extrabold"},yt={key:0,class:"h-80"},kt={key:1,class:"text-gray-500"},vt={class:"grid grid-cols-1 gap-5 text-center"},wt=e("div",{class:"dark:text-gray-300"}," รายรับ ",-1),Yt={class:"font-extrabold text-2xl"},Ct=e("div",{class:"dark:text-gray-300"}," รายจ่าย ",-1),St={class:"font-extrabold text-2xl"},At={class:"dark:text-gray-300"},Dt={class:"font-extrabold text-2xl"},Et={class:"font-extrabold text-2xl"},Mt={class:"grid lg:grid-cols-4 grid-cols-1 gap-5"},Ot={class:"grid grid-cols-2 gap-5"},jt={class:"mt-1"},Bt={class:"lg:text-xl text-lg text-yellow-600 text-center"},qt={key:0,class:"grid grid-cols-2 gap-5 mt-5"},Ft={class:"mt-1"},Vt=e("div",{class:"text-xs text-gray-500"},"(รักษามากที่สุด)",-1),It={class:"lg:text-xl text-lg text-yellow-600 text-center"},Qt={class:"grid grid-cols-2 gap-5"},Pt={class:"mt-1"},Tt={class:"lg:text-xl text-lg text-yellow-600 text-center"},zt={class:"mt-1"},Wt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Rt={class:"grid grid-cols-2 gap-5"},Lt={class:"mt-1"},Nt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Ht={class:"mt-1"},Ut=e("div",{class:"text-xs text-gray-500"},"(มากกว่า 8 เดือน)",-1),Gt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Jt={class:"grid grid-cols-2 gap-5"},Kt={class:"mt-1"},Xt={class:"lg:text-xl text-lg text-yellow-600 text-center"},Zt={class:"mt-1"},$t={class:"lg:text-xl text-lg text-yellow-600 text-center"};function es(t,a,o,c,s,r){const h=C("SectionTitleBarSub"),f=C("FormControl"),_=C("FormField"),b=C("Table"),x=C("bar-chart"),i=C("CardBox"),v=C("line-chart"),y=C("pie-chart"),k=C("BaseIcon"),U=C("SectionMain"),G=C("LayoutAuthenticated");return u(),ee(G,null,{default:g(()=>[l(U,null,{default:g(()=>[l(h,{icon:"chartPie",title:"ภาพรวมฟาร์ม"}),e("div",me,[l(i,{title:"การให้อาหาร (ปี พ.ศ. "+(s.foodYear+543)+")",icon:"corn",onHeaderIconClick:a[1]||(a[1]=()=>{this.foodYearSearch=!this.foodYearSearch}),"header-icon":"magnifyExpand"},{default:g(()=>[s.foodYearSearch?(u(),m("div",pe,[l(_,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:s.foodYear,"onUpdate:modelValue":a[0]||(a[0]=n=>s.foodYear=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(b,{title:"คอก",icon:"barn",items:s.food.corral,datas:s.foodColumns,perPage:"5",loading:s.loading.food},null,8,["items","datas","loading"]),s.chart.food.year?(u(),m("div",_e,[l(x,{data:s.chart.food.year},null,8,["data"])])):(u(),m("div",ge,"ไม่มีข้อมูล..."))]),_:1},8,["title"]),l(i,{title:"น้ำนมดิบ",icon:"water",class:"lg:p-4 md:p-4","has-table":"","header-icon":""},{default:g(()=>[e("div",fe,[l(i,{title:"รายเดือน (ปี พ.ศ. "+(s.milkYearValue+543)+")",icon:"chartBellCurveCumulative",class:"",loading:s.loading.milks,onHeaderIconClick:a[3]||(a[3]=()=>{this.milkYearSearch=!this.milkYearSearch}),"header-icon":"magnifyExpand"},{default:g(()=>[e("div",xe,[s.milkYearSearch?(u(),m("div",be,[l(_,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:s.milkYearValue,"onUpdate:modelValue":a[2]||(a[2]=n=>s.milkYearValue=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):M("",!0),l(i,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:g(()=>{var n,p;return[e("div",ye,[e("table",null,[ke,e("tbody",null,[e("tr",ve,[e("td",we,d(s.milkYear.countDate),1),e("td",Ye,d(t.$filters.number(s.milkYear.sumQty)),1),e("td",Ce,d(t.$filters.number(s.milkYear.avgMonthQty)),1),e("td",Se,d(t.$filters.number(s.milkYear.avgDayQty)),1)])])])]),((p=(n=s.chart.milk.year.qty)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(u(),m("div",Ae,[l(x,{data:s.chart.milk.year.qty},null,8,["data"])])):(u(),m("div",De,"ไม่มีข้อมูล..."))]}),_:1}),l(i,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:g(()=>{var n,p;return[e("div",Ee,[e("table",null,[Me,e("tbody",null,[e("tr",Oe,[e("td",je,d(t.$filters.currency(s.milkYear.sumAmt)),1),e("td",Be,d(t.$filters.currency(s.milkYear.avgMonthAmt)),1),e("td",qe,d(t.$filters.currency(s.milkYear.avgDayAmt)),1)])])])]),((p=(n=s.chart.milk.year.amt)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(u(),m("div",Fe,[l(x,{data:s.chart.milk.year.amt},null,8,["data"])])):(u(),m("div",Ve,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1},8,["title","loading"]),l(i,{title:"รายปี",icon:"chartBellCurveCumulative","header-icon":""},{default:g(()=>[e("div",Ie,[l(i,{title:"ปริมาณ","header-icon":"","has-table":"",class:""},{default:g(()=>{var n,p;return[e("div",Qe,[e("table",null,[Pe,e("tbody",null,[e("tr",Te,[e("td",ze,d(s.milkAll.countYear),1),e("td",We,d(t.$filters.number(s.milkAll.sumQty)),1),e("td",Re,d(t.$filters.number(s.milkAll.avgMonthQty)),1),e("td",Le,d(t.$filters.number(s.milkAll.avgYearQty)),1)])])])]),((p=(n=s.chart.milk.all.qty)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(u(),m("div",Ne,[l(v,{data:s.chart.milk.all.qty},null,8,["data"])])):(u(),m("div",He,"ไม่มีข้อมูล..."))]}),_:1}),l(i,{title:"จำนวนเงิน","header-icon":"","has-table":"",class:""},{default:g(()=>{var n,p;return[e("div",Ue,[e("table",null,[Ge,e("tbody",null,[e("tr",Je,[e("td",Ke,d(t.$filters.currency(s.milkAll.sumAmt)),1),e("td",Xe,d(t.$filters.currency(s.milkAll.avgMonthAmt)),1),e("td",Ze,d(t.$filters.currency(s.milkAll.avgYearAmt)),1)])])])]),((p=(n=s.chart.milk.all.amt)==null?void 0:n.datasets[0])==null?void 0:p.data[0])>0?(u(),m("div",$e,[l(v,{data:s.chart.milk.all.amt},null,8,["data"])])):(u(),m("div",et,"ไม่มีข้อมูล..."))]}),_:1})])]),_:1})])]),_:1}),l(i,{title:"ผลประกอบการ (ปี พ.ศ. "+(s.businessYear+543)+")",icon:"cashRegister","header-icon":"magnifyExpand",onHeaderIconClick:a[5]||(a[5]=()=>{this.businessYearSearch=!this.businessYearSearch})},{default:g(()=>[s.businessYearSearch?(u(),m("div",tt,[l(_,{label:"ปี พ.ศ.",help:"เลือกปีแสดงผล"},{default:g(()=>[l(f,{modelValue:s.businessYear,"onUpdate:modelValue":a[4]||(a[4]=n=>s.businessYear=n),options:s.years},null,8,["modelValue","options"])]),_:1})])):M("",!0),s.chart.business.all?(u(),m("div",st,[l(x,{data:s.chart.business.all},null,8,["data"])])):M("",!0),e("div",at,[l(i,{title:"รายจ่าย",class:"lg:col-span-2","header-icon":""},{default:g(()=>[e("div",ot,[e("div",null,[lt,e("div",rt,d(t.$filters.currency(r.sumExpense().cost)),1),r.sumExpense().cost>0?(u(),m("div",it,[l(y,{data:s.chart.expense.cost},null,8,["data"])])):(u(),m("div",ct,"ไม่มีข้อมูล..."))]),e("div",null,[nt,e("div",dt,d(t.$filters.currency(r.sumExpense().care)),1),r.sumExpense().care>0?(u(),m("div",ht,[l(y,{data:s.chart.expense.care},null,8,["data"])])):(u(),m("div",ut,"ไม่มีข้อมูล..."))]),e("div",null,[mt,e("div",pt,d(t.$filters.currency(r.sumExpense().bill)),1),r.sumExpense().bill>0?(u(),m("div",_t,[l(y,{data:s.chart.expense.bill},null,8,["data"])])):(u(),m("div",gt,"ไม่มีข้อมูล..."))])])]),_:1}),l(i,{title:"รายรับ","header-icon":""},{default:g(()=>[e("div",ft,[e("div",null,[xt,e("div",bt,d(t.$filters.currency(r.sumIncome().total)),1),r.sumIncome().total>0?(u(),m("div",yt,[l(y,{data:s.chart.income},null,8,["data"])])):(u(),m("div",kt,"ไม่มีข้อมูล..."))])])]),_:1}),l(i,{title:"สรุป","header-icon":""},{default:g(()=>{var n;return[e("div",vt,[wt,e("div",Yt,d(t.$filters.currency(r.sumIncome().total)),1),Ct,e("div",St,d(t.$filters.currency(r.sumExpense().total)),1),e("div",At,d(r.sumProfit().profit>0?"กำไร":"ขาดทุน"),1),e("div",Dt,d(t.$filters.currency((n=r.sumProfit())==null?void 0:n.profit)),1),e("div",Et,d(t.$filters.number(r.sumProfit().percent|0))+" % ",1)])]}),_:1})])]),_:1},8,["title"]),l(i,{icon:"poll",title:"สถิติ","header-icon":"",class:"mb-1 lg:mb-5"},{default:g(()=>[e("div",Mt,[l(i,{title:"การรักษา","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var n,p,w,Y,I,Q,P,T,z,W,R,L,N;return[e("div",Ot,[e("p",jt,[l(k,{class:"bg-red-900 text-rose-400 rounded-full p-1 mr-2",path:"plusThick",size:"16"}),S("ทั้งหมด ")]),e("h1",Bt,d((p=(n=s.statistics)==null?void 0:n.heal)==null?void 0:p.count),1)]),(Q=(I=(Y=(w=s.statistics)==null?void 0:w.heal)==null?void 0:Y.max)==null?void 0:I.cow)!=null&&Q.name?(u(),m("div",qt,[e("p",Ft,[l(k,{class:"bg-gray-700 text-white rounded-full p-1 mr-2",path:"cow",size:"16"}),S("โค"+d((W=(z=(T=(P=s.statistics)==null?void 0:P.heal)==null?void 0:T.max)==null?void 0:z.cow)==null?void 0:W.name)+" ",1),Vt]),e("h1",It,d((N=(L=(R=s.statistics)==null?void 0:R.heal)==null?void 0:L.max)==null?void 0:N.count),1)])):M("",!0)]}),_:1}),l(i,{title:"การผสมพันธุ์","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var n,p,w,Y;return[e("div",Qt,[e("p",Pt,[l(k,{class:"bg-teal-900 text-green-500 rounded-full p-1 mr-2",path:"check",size:"16"}),S("สำเร็จ ")]),e("h1",Tt,d((p=(n=s.statistics)==null?void 0:n.reproduction)==null?void 0:p.success),1),e("p",zt,[l(k,{class:"bg-red-900 text-rose-500 rounded-full p-1 mr-2",path:"close",size:"16"}),S("ล้มเหลว ")]),e("h1",Wt,d((Y=(w=s.statistics)==null?void 0:w.reproduction)==null?void 0:Y.fail),1)])]}),_:1}),l(i,{title:"การตั้งครรภ์","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var n,p,w,Y;return[e("div",Rt,[e("p",Lt,[l(k,{class:"bg-black text-gray-300 rounded-full p-1 mr-2",path:"emoticonCryOutline",size:"16"}),S(" แท้ง ")]),e("h1",Nt,d((p=(n=s.statistics)==null?void 0:n.pregnant)==null?void 0:p.abort),1),e("p",Ht,[l(k,{class:"bg-orange-900 text-yellow-500 rounded-full p-1 mr-2",path:"calendarClock",size:"16"}),S(" ใกล้คลอด "),Ut]),e("h1",Gt,d((Y=(w=s.statistics)==null?void 0:w.pregnant)==null?void 0:Y.nearBirth),1)])]}),_:1}),l(i,{title:"การคลอด","header-icon":"",class:"dark:border-gray-800 border"},{default:g(()=>{var n,p,w,Y;return[e("div",Jt,[e("p",Kt,[l(k,{class:"bg-indigo-900 text-white rounded-full p-1 mr-2",path:"genderMale",size:"16"}),S("เพศผู้ ")]),e("h1",Xt,d((p=(n=s.statistics)==null?void 0:n.born)==null?void 0:p.male),1),e("p",Zt,[l(k,{class:"bg-rose-900 text-white rounded-full p-1 mr-2",path:"genderFemale",size:"16"}),S("เพศเมีย ")]),e("h1",$t,d((Y=(w=s.statistics)==null?void 0:w.born)==null?void 0:Y.female),1)])]}),_:1})])]),_:1})])]),_:1})]),_:1})}const ps=$(ue,[["render",es]]);export{ps as default};
