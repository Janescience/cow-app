import{z as p,C as f,D as _,E as g,B as w,c as b,w as c,F as o,o as S,d as r}from"./index-e4c170d6.js";import{C as y}from"./Criteria-bace8ed8.js";import{R as M}from"./report-fa7e3bd6.js";import{y as x,m as l}from"./date-66c7a2ce.js";import{T as D}from"./alert-76246791.js";import"./CardBoxCollapse-36ea0dff.js";import"./FormField-30a7d1de.js";import"./FormCheckRadioPicker-b9e413c3.js";import"./Cow-bb341abb.js";import"./cow-37e18f7c.js";import"./Vaccine-247f1e71.js";const C={data(){return{forms:[{label:"ปี",value:"year",options:x(),required:!0},{label:"ตั้งแต่เดือน",value:"monthFrom",options:l(),required:!0},{label:"ถึงเดือน",value:"monthTo",options:l(),required:!0}],search:{year:new Date().getFullYear(),monthFrom:new Date().getMonth()+1,monthTo:new Date().getMonth()+1},loading:!1}},components:{SectionMain:f,LayoutAuthenticated:_,SectionTitleBarSub:g,Criteria:y},methods:{async exportExcel(n){this.loading=!0;const t=await M.rawMilk(n);if(console.log(t),t.data.size<=4)D.fire({icon:"warning",title:"ไม่พบข้อมูล"});else{const i=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=i,e.setAttribute("download","ผลผลิตน้ำนมดิบ ปี "+this.search.year+" "+w().format("DDMMYYYYHHmm")+".xlsx"),document.body.appendChild(e),e.click(),e.remove()}this.loading=!1},reset(){this.search.year=new Date().getFullYear(),this.search.monthForm=new Date().getMonth()+1,this.search.monthTo=new Date().getMonth()+1}}};function L(n,t,i,e,a,s){const m=o("SectionTitleBarSub"),u=o("Criteria"),h=o("SectionMain"),d=o("LayoutAuthenticated");return S(),b(d,null,{default:c(()=>[r(h,null,{default:c(()=>[r(m,{icon:"water",title:"ผลผลิตน้ำนมดิบ"}),r(u,{grid:"grid-cols-2 lg:grid-cols-4",onSearch:s.exportExcel,onReset:s.reset,forms:a.forms,search:a.search,btnSubmitLabel:"ออกรายงาน",btnLoading:a.loading,collapse:!0},null,8,["onSearch","onReset","forms","search","btnLoading"])]),_:1})]),_:1})}const H=p(C,[["render",L]]);export{H as default};
